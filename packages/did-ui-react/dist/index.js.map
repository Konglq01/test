{"version":3,"file":"index.js","sources":["../src/hooks/graphql.ts","../src/components/ScanBase/components/ScanCard/index.tsx","../src/assets/svgs.ts","../src/components/CustomSvg/index.tsx","../src/components/TitleWrapper/index.tsx","../src/components/BackHeader/index.tsx","../src/components/CustomPassword/index.tsx","../src/components/ConfirmPassword/index.tsx","../src/components/SetPinBase/index.component.tsx","../src/components/ScanBase/components/SetPin/index.tsx","../src/utils/errorHandler.ts","../src/constants/common.ts","../src/components/ScanBase/index.component.tsx","../src/components/config-provider/LocalConfig.tsx","../src/components/Loading/index.tsx","../src/utils/index.ts","../src/constants/events.ts","../src/components/ScreenLoading/index.tsx","../src/constants/error.ts","../src/utils/BaseAsyncStorage.ts","../src/components/config-provider/api.ts","../src/components/config-provider/BaseConfigProvider.tsx","../src/components/config-provider/index.tsx","../src/components/ScanBase/index.tsx","../src/components/CommonModal/index.tsx","../src/components/BaseVerifierIcon/index.tsx","../src/components/CommonSelect/index.tsx","../src/utils/loading.ts","../src/components/VerifierSelect/index.component.tsx","../src/components/VerifierSelect/index.tsx","../src/hooks/useFetchDidWalletInfo.ts","../src/components/SetPinAndAddManager/index.component.tsx","../src/components/SetPinAndAddManager/index.tsx","../src/components/CommonTooltip/index.component.tsx","../src/components/VerifierPair/index.tsx","../src/components/GuardianList/components/GuardianItems/index.tsx","../src/components/GuardianList/index.component.tsx","../src/components/GuardianList/index.tsx","../src/components/EmailInput/index.tsx","../src/components/EmailTab/index.tsx","../src/components/SignUpBase/index.component.tsx","../src/components/SignUpBase/index.tsx","../src/components/EmailLogin/index.tsx","../src/components/LoginBase/index.component.tsx","../src/store/contract.ts","../src/utils/sandboxUtil/getHolderInfo.ts","../src/components/SignUpAndLogin/index.component.tsx","../src/components/SignUpAndLogin/index.tsx","../src/components/CodeVerify/index.component.tsx","../src/components/CodeVerify/index.tsx","../src/components/GuardianApproval/components/VerifierPage/index.tsx","../src/components/GuardianApproval/index.component.tsx","../src/components/GuardianApproval/index.tsx","../src/components/SignIn/components/BaseModal/index.tsx","../src/components/SignIn/components/Step1/index.tsx","../src/components/SignIn/components/Step2WithSignUp/index.tsx","../src/components/SignIn/components/Step2WithSignIn/index.tsx","../src/components/SignIn/components/Step3/index.tsx","../src/hooks/useChainInfo.ts","../src/utils/sandboxUtil/getVerifierList.ts","../src/components/SignIn/store/global.ts","../src/components/SignIn/index.tsx"],"sourcesContent":["import useInterval from '@portkey/hooks/useInterval';\nimport { contractQueries } from '@portkey/graphql/index';\nimport { useState, useMemo } from 'react';\nimport { CAInfoType, LoginType, ManagerInfo } from '@portkey/types/types-ca/wallet';\nimport { VerificationType } from '@portkey/types/verifier';\nexport function useIntervalQueryCAInfoByAddress({\n  uri,\n  address,\n  chainId,\n}: {\n  uri?: string;\n  address?: string;\n  chainId?: string;\n}) {\n  const [info, setInfo] = useState<CAInfoType>();\n  const caInfo = useMemo(() => (address && info ? info : undefined), [info, address]);\n  useInterval(\n    async () => {\n      console.log(address, caInfo, uri, chainId, 'caWallet===');\n      if (!address || caInfo || !uri || !chainId) return;\n      try {\n        const { caHolderManagerInfo } = await contractQueries.getCAHolderByManagerByUrl(uri, {\n          chainId,\n          manager: address,\n        });\n        const { caAddress, caHash, loginGuardianAccountInfo } = caHolderManagerInfo[0];\n        if (caAddress && caHash && loginGuardianAccountInfo[0])\n          setInfo({\n            managerInfo: {\n              managerUniqueId: loginGuardianAccountInfo[0].id,\n              loginAccount: loginGuardianAccountInfo[0].loginGuardianAccount,\n              type: LoginType.email,\n              verificationType: VerificationType.addManager,\n            } as ManagerInfo,\n            [chainId]: { caAddress, caHash },\n          });\n      } catch (error) {\n        console.log(error, '=====error');\n      }\n    },\n    3000,\n    [caInfo, uri, address],\n  );\n  return caInfo;\n}\n","import QRCode from 'qrcode.react';\nimport './index.less';\n\ninterface ScanCardProps {\n  isShowIcon?: boolean;\n  qrData?: string; // JSON.stringify(LoginQRData)\n  backIcon?: React.ReactNode;\n  onBack?: () => void;\n}\n\nexport default function ScanCard({ qrData, backIcon, isShowIcon = true, onBack }: ScanCardProps) {\n  return (\n    <div className=\"scan-card-wrapper\">\n      <h2 className=\"scan-title\">\n        Scan code to log in\n        {isShowIcon && backIcon && (\n          <div className=\"back-icon-wrapper\" onClick={onBack}>\n            {backIcon}\n          </div>\n        )}\n      </h2>\n      <p>Please use the portkey Dapp to scan the QR code</p>\n      <div className=\"scan-content\">\n        {qrData && <QRCode className=\"qrc\" value={qrData} style={{ width: 170, height: 170 }} />}\n      </div>\n    </div>\n  );\n}\n","export default {\n  Aelf: '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<svg   viewBox=\"0 0 20 20\" version=\"1.1\" >\\n    <title>Aelf</title>\\n    <g id=\"Icon\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"Special\" transform=\"translate(-153.000000, -78.000000)\" fill-rule=\"nonzero\">\\n            <g id=\"Aelf\" transform=\"translate(153.000000, 78.000000)\">\\n                <circle id=\"Circle\" fill=\"#266CD3\" cx=\"10\" cy=\"10\" r=\"10\"></circle>\\n                <path d=\"M10.4130007,13.540636 C11.0921353,13.540636 11.6426827,14.0911834 11.6426827,14.770318 C11.6426827,15.4494526 11.0921353,16 10.4130007,16 C9.7338661,16 9.1833187,15.4494526 9.1833187,14.770318 C9.1833187,14.0911834 9.7338661,13.540636 10.4130007,13.540636 Z M10.7734248,11.0176678 C10.9218346,11.3992933 10.7098205,11.8445229 10.328195,11.9717315 C10.1828139,12.0262494 10.0374328,12.0340376 9.8920517,11.9950962 L9.8193611,11.9717315 C9.4801385,11.8657244 9.09851305,11.8657244 8.73808905,11.9929328 C8.2433894,12.1710248 7.89644005,12.5522732 7.73171605,12.9987781 L7.6992198,13.0954063 L7.67801835,13.1378092 C7.67801835,13.1590106 7.67801835,13.180212 7.65681695,13.180212 L7.65681695,13.2226148 C7.50840705,13.8162544 7.1055802,14.3250883 6.4907392,14.5371024 C5.5366756,14.9187279 4.47660493,14.4310954 4.11618091,13.4558304 C3.75575688,12.5017668 4.2645908,11.4204947 5.2186544,11.0600707 C5.81728255,10.8405737 6.4534717,10.940345 6.93278845,11.2886817 L7.02077455,11.3568904 C7.46600425,11.6749116 8.0384424,11.7809187 8.58967915,11.5689046 C8.91005605,11.4558304 9.16342605,11.2589975 9.3497891,11.0081868 L9.41653425,10.9116608 L9.4377357,10.8692579 C9.52254135,10.7420494 9.6497498,10.614841 9.8193611,10.5724381 C10.2009865,10.4240282 10.6462162,10.6360424 10.7734248,11.0176678 Z M13.4660042,7.4982332 C14.8476919,7.4982332 15.967771,8.61831235 15.967771,10 C15.967771,11.3816876 14.8476919,12.5017668 13.4660042,12.5017668 C12.0843166,12.5017668 10.9642374,11.3816876 10.9642374,10 C10.9642374,8.61831235 12.0843166,7.4982332 13.4660042,7.4982332 Z M4.11618091,6.5441696 C4.45540352,5.5689046 5.5366756,5.0812721 6.4907392,5.46289755 C7.1055802,5.67491165 7.50840705,6.1837456 7.65681695,6.77738515 L7.65681695,6.77738515 L7.65681695,6.819788 C7.67801835,6.819788 7.67801835,6.8409894 7.67801835,6.8621908 L7.67801835,6.8621908 L7.6992198,6.90459365 L7.73171605,7.00122185 C7.89644005,7.44772675 8.2433894,7.82897525 8.73808905,8.00706715 C9.09851305,8.1342756 9.4801385,8.1342756 9.8193611,8.02826855 L9.8193611,8.02826855 L9.8920517,8.00490375 C10.0374328,7.96596235 10.1828139,7.97375065 10.328195,8.02826855 C10.7098205,8.15547705 10.9218346,8.6007067 10.7734248,8.98233215 C10.6462162,9.3639576 10.2009865,9.57597175 9.8193611,9.42756185 C9.6497498,9.385159 9.52254135,9.25795055 9.4377357,9.13074205 L9.4377357,9.13074205 L9.41653425,9.0883392 L9.3497891,8.99181315 C9.16342605,8.7410025 8.91005605,8.5441696 8.58967915,8.4310954 C8.0384424,8.21908125 7.46600425,8.32508835 7.02077455,8.64310955 L7.02077455,8.64310955 L6.93278845,8.7113183 C6.4534717,9.05965495 5.81728255,9.1594263 5.2186544,8.93992935 C4.2645908,8.5795053 3.75575688,7.4982332 4.11618091,6.5441696 Z M10.4130007,4 C11.0921353,4 11.6426827,4.55054737 11.6426827,5.229682 C11.6426827,5.9088166 11.0921353,6.45936395 10.4130007,6.45936395 C9.7338661,6.45936395 9.1833187,5.9088166 9.1833187,5.229682 C9.1833187,4.55054737 9.7338661,4 10.4130007,4 Z\" id=\"Shape\" fill=\"#FFFFFF\"></path>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  BackLeft:\n    '\\n<svg   viewBox=\"0 0 12 12\" version=\"1.1\" >\\n    <g id=\"mxklhfsglt\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"eofqjcyjkh\" transform=\"translate(-230.000000, -72.000000)\">\\n            <g id=\"stubogoidu\" transform=\"translate(230.000000, 68.000000)\">\\n                <g id=\"oogxwhdmgd\" transform=\"translate(0.000000, 4.000000)\">\\n                    <g id=\"wqwdhsurnh\">\\n                        <rect id=\"qjynioqwkz\" x=\"0\" y=\"0\" width=\"12\" height=\"12\"></rect>\\n                    </g>\\n                    <path\\n                        d=\"M11.1398205,3 L10.1036191,3 C10.0331574,3 9.96684055,3.02929687 9.92539249,3.07734375 L6.0002618,7.66640625 L2.0751311,3.07734375 C2.03368305,3.02929687 1.96736616,3 1.89690447,3 L0.860703128,3 C0.770899012,3 0.718398144,3.08671875 0.770899012,3.14882812 L5.64242693,8.8453125 C5.81927196,9.0515625 6.18125163,9.0515625 6.35671506,8.8453125 L11.228243,3.14882812 C11.2821255,3.08671875 11.2296246,3 11.1398205,3 Z\"\\n                        id=\"yiiubvmuil\" fill=\"#515A62\"\\n                        transform=\"translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) \">\\n                    </path>\\n                </g>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  'Down-primary':\n    '\\n<svg   viewBox=\"0 0 12 12\" version=\"1.1\" >\\n    \\n    <g id=\"nuzntpzzsz\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"xsutmidvsx\" transform=\"translate(-248.000000, -30.000000)\">\\n            <g id=\"ovheutgxvi\" transform=\"translate(106.000000, 14.000000)\">\\n                <g id=\"dfdubvepre\" transform=\"translate(142.000000, 16.000000)\">\\n                    <g id=\"ctnvtudsps\">\\n                        <rect id=\"jzkovckqoh\" x=\"0\" y=\"0\" width=\"12\" height=\"12\"></rect>\\n                    </g>\\n                    <path d=\"M11.1398205,3 L10.1036191,3 C10.0331574,3 9.96684055,3.02929688 9.92539249,3.07734375 L6.0002618,7.66640625 L2.0751311,3.07734375 C2.03368305,3.02929688 1.96736616,3 1.89690447,3 L0.860703128,3 C0.770899012,3 0.718398144,3.08671875 0.770899012,3.14882813 L5.64242693,8.8453125 C5.81927196,9.0515625 6.18125163,9.0515625 6.35671506,8.8453125 L11.228243,3.14882812 C11.2821255,3.08671875 11.2296246,3 11.1398205,3 Z\" id=\"dnntrjvhvg\" fill=\"#5b8ef4\"></path>\\n                </g>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  Down: '\\n<svg   viewBox=\"0 0 12 12\" version=\"1.1\" >\\n    \\n    <g id=\"nuzntpzzsz\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"xsutmidvsx\" transform=\"translate(-248.000000, -30.000000)\">\\n            <g id=\"ovheutgxvi\" transform=\"translate(106.000000, 14.000000)\">\\n                <g id=\"dfdubvepre\" transform=\"translate(142.000000, 16.000000)\">\\n                    <g id=\"ctnvtudsps\">\\n                        <rect id=\"jzkovckqoh\" x=\"0\" y=\"0\" width=\"12\" height=\"12\"></rect>\\n                    </g>\\n                    <path d=\"M11.1398205,3 L10.1036191,3 C10.0331574,3 9.96684055,3.02929688 9.92539249,3.07734375 L6.0002618,7.66640625 L2.0751311,3.07734375 C2.03368305,3.02929688 1.96736616,3 1.89690447,3 L0.860703128,3 C0.770899012,3 0.718398144,3.08671875 0.770899012,3.14882813 L5.64242693,8.8453125 C5.81927196,9.0515625 6.18125163,9.0515625 6.35671506,8.8453125 L11.228243,3.14882812 C11.2821255,3.08671875 11.2296246,3 11.1398205,3 Z\" id=\"dnntrjvhvg\" fill=\"#515A62\"></path>\\n                </g>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  Email:\n    '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<svg   viewBox=\"0 0 40 40\" version=\"1.1\" >\\n    <title>Icon___Special___Email</title>\\n    <g id=\"Icon\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"Special\" transform=\"translate(-39.000000, -80.000000)\">\\n            <g id=\"Icon___Special___Email\" transform=\"translate(39.009189, 80.005169)\">\\n                <path d=\"M0,19.9649677 C0,30.9921034 8.93840633,39.9316583 19.9649677,39.9316583 C30.9915291,39.9316583 39.931084,30.9926777 39.931084,19.965542 C39.931084,8.93898065 30.9921034,0 19.9649677,0 C8.93898061,-0.000574277638 0,8.93840633 0,19.9649677 Z\" id=\"Shape\" fill=\"#E7F0FC\"></path>\\n                <path d=\"M21.3991632,21.3174756 L29.797479,14.3410374 L29.797479,25.8169765 C29.7849486,26.6813202 29.0743255,27.3719737 28.2099758,27.3598685 L12.3414733,27.3598685 C11.9266345,27.3655341 11.5265397,27.2061537 11.2292249,26.9167972 C10.93191,26.6274407 10.7617356,26.2318164 10.7561464,25.8169765 L10.7561464,14.3410374 L19.1550061,21.3174756 C19.7817126,21.9192187 20.7719126,21.9192187 21.3991632,21.3174756 Z\" id=\"Shape\" fill=\"#5B8EF4\" fill-rule=\"nonzero\"></path>\\n                <path d=\"M20.8573013,20.0629347 C20.5255086,20.3814949 20.0014588,20.3814949 19.6696662,20.0629347 L11.466116,13.2758217 C11.7276506,13.1051208 12.0335162,13.0148933 12.3458256,13.016267 L28.212152,13.016267 C28.5136534,13.018905 28.8085446,13.104962 29.0641156,13.264941 L29.0706441,13.264941 L20.8573013,20.0629347 Z\" id=\"Shape\" fill=\"#5B8EF4\" fill-rule=\"nonzero\" opacity=\"0.400000006\"></path>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  EyeInvisibleOutlined:\n    '\\n<svg   viewBox=\"0 0 16 16\" version=\"1.1\" >\\n    \\n    <g id=\"ewyycwenxn\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"izwgspsgdh\" transform=\"translate(-848.000000, -440.000000)\">\\n            <g id=\"cpxxmyonqb\" transform=\"translate(320.000000, 424.000000)\">\\n                <g id=\"ombzsvyqws\" transform=\"translate(528.000000, 16.000000)\">\\n                    <rect id=\"cwyxqwthor\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\\n                    <path d=\"M15.8956366,7.91635199 L15.8938017,7.91451705 L15.8919667,7.91268211 C15.2240481,6.50528224 14.4240138,5.36761871 13.4936986,4.49969154 L12.5633834,5.43184165 C13.3652527,6.169488 14.0588605,7.15118153 14.6570513,8.38426199 C13.1285453,11.5458656 10.9614798,13.0468475 7.99988475,13.0468475 C7.05855994,13.0468475 6.19613759,12.8945474 5.40894783,12.5862773 L4.40523501,13.5899901 C5.47867559,14.1074435 6.67505723,14.3680051 7.99988475,14.3680051 C11.5266417,14.3680051 14.1542774,12.5238893 15.8938017,8.85767681 C16.0350921,8.56041634 16.0350921,8.2154474 15.8956366,7.91635199 L15.8956366,7.91635199 Z M14.7212742,1.82067744 L13.9432592,1.04266238 C13.886376,0.985779206 13.792794,0.985779206 13.7359108,1.04266238 L11.5926996,3.18403872 C10.5210939,2.66475037 9.32471228,2.40418873 7.99988475,2.40418873 C4.47312783,2.40418873 1.84549208,4.2483046 0.105967852,7.91451705 L0.105967852,7.91635199 C-0.0353226175,8.21361246 -0.0353226175,8.56225129 0.105967852,8.8613467 C0.773886437,10.2687466 1.57392079,11.4064101 2.50423596,12.2761722 L0.656450203,14.1202881 C0.599567026,14.1771713 0.599567026,14.2707533 0.656450203,14.3276364 L1.43446526,15.1056515 C1.49134843,15.1625347 1.58493043,15.1625347 1.64181361,15.1056515 L14.7212742,2.02619085 C14.7781574,1.97114261 14.7781574,1.87756061 14.7212742,1.82067744 Z M5.92456629,8.85217199 C5.88970241,8.70170681 5.871353,8.54573682 5.871353,8.38609693 C5.871353,7.25026835 6.79065852,6.33096283 7.92648711,6.33096283 C8.08612699,6.33096283 8.24393193,6.34931224 8.39256216,6.38417612 L5.92456629,8.85217199 Z M9.31003275,5.46670554 C8.88983122,5.26853189 8.42192122,5.15660048 7.92648711,5.15660048 C6.14292429,5.15660048 4.69699065,6.60253412 4.69699065,8.38609693 C4.69699065,8.88153105 4.80892206,9.34944105 5.00709571,9.76964257 L3.43638607,11.3403522 C2.63451678,10.6027059 1.94090902,9.62101234 1.3427182,8.38793187 C2.87305913,5.22632824 5.04012465,3.72534637 7.99988475,3.72534637 C8.94120957,3.72534637 9.80363192,3.87764649 10.5908217,4.1859166 L9.31003275,5.46670554 L9.31003275,5.46670554 Z M7.92648711,10.441231 C7.80905087,10.441231 7.69344958,10.4320563 7.58151817,10.411872 L6.64386323,11.3495269 C7.03654064,11.5201764 7.4714217,11.6137584 7.92648711,11.6137584 C9.71004992,11.6137584 11.1559836,10.1678248 11.1559836,8.38426199 C11.1559836,7.92919658 11.0624016,7.49431553 10.891752,7.10163812 L9.9540971,8.03929305 C9.97244651,8.15122446 9.98345616,8.26682576 9.98345616,8.38426199 C9.98162121,9.52192552 9.06231569,10.441231 7.92648711,10.441231 Z\" id=\"rchgrlefmr\" fill=\"#464B53\"></path>\\n                </g>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  EyeOutlined:\n    '\\n<svg   viewBox=\"0 0 16 16\" version=\"1.1\" >\\n    \\n    <g id=\"tlxvwosmzz\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"rernsumtqb\" transform=\"translate(-848.000000, -338.000000)\">\\n            <g id=\"bkjfpztors\" transform=\"translate(320.000000, 322.000000)\">\\n                <g id=\"lthtgqbnyc\" transform=\"translate(528.000000, 16.000000)\">\\n                    <g id=\"kurtietvnz\">\\n                        <rect id=\"qzxosqyqdh\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\\n                    </g>\\n                    <g id=\"gpwodjgikj\" transform=\"translate(0.000000, 2.000000)\" fill=\"#464B53\">\\n                        <path d=\"M10.6305251,4.4348758 C10.0797422,3.48888818 9.06043603,2.90949312 7.96244662,2.92379917 C6.29579168,2.94525824 4.95638766,4.30075657 4.95638766,5.96741151 C4.95638766,7.63406645 6.29579168,8.98956478 7.96244662,9.01102385 C9.06043603,9.02354165 10.0797422,8.44593484 10.6305251,7.49994722 C11.1813081,6.5539596 11.1813081,5.38086342 10.6305251,4.4348758 L10.6305251,4.4348758 Z M8.02682385,7.63406645 C7.42775796,7.64479599 6.8644572,7.32827461 6.56045362,6.80789201 C6.25645004,6.28929766 6.25645004,5.64373711 6.56045362,5.12514276 C6.8644572,4.60654841 7.42418145,4.28823878 8.02682385,4.29896832 C8.93525808,4.31506262 9.66665494,5.05718902 9.66665494,5.96562325 C9.66665494,6.87942226 8.93525808,7.61797214 8.02682385,7.63406645 L8.02682385,7.63406645 Z\" id=\"fxfyuobrmn\"></path>\\n                        <path d=\"M15.7646092,5.19488476 C13.4273581,1.73103217 10.8397511,1.42108547e-14 8,1.42108547e-14 C5.21389657,1.42108547e-14 2.66920776,1.67023145 0.364145295,5.00711784 L0.235390836,5.19846127 L0.183531402,5.28250932 C-0.079342285,5.74030295 -0.0578832086,6.30360371 0.235390836,6.73993826 C2.57264191,10.2037909 5.16024888,11.934823 8,11.934823 C10.7861034,11.934823 13.3307922,10.2645916 15.6358547,6.92770518 L15.7646092,6.73636175 L15.8164686,6.6523137 C16.0793423,6.19630833 16.0578832,5.63121931 15.7646092,5.19488476 Z M14.4967354,6.15339017 C12.4312993,9.14335483 10.2746621,10.5578656 8,10.5578656 C5.72712615,10.5578656 3.57048897,9.14335483 1.5032646,6.15339017 L1.3762984,5.96741151 L1.5032646,5.78143285 C3.56870071,2.7914682 5.7253379,1.37695741 8,1.37695741 C10.2728738,1.37695741 12.429511,2.7914682 14.4967354,5.78143285 L14.6237016,5.96741151 L14.4967354,6.15339017 L14.4967354,6.15339017 Z\" id=\"qcdhqfyvjm\"></path>\\n                    </g>\\n                </g>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  LeftArrow:\n    '\\n<svg   viewBox=\"0 0 16 16\" version=\"1.1\" >\\n    <g id=\"uwnlplteyh\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"dprrnlrwff\" transform=\"translate(-200.000000, -36.000000)\">\\n            <g id=\"udhwnwrhcn\" transform=\"translate(200.000000, 20.000000)\">\\n                <g id=\"hushnwgwqf\" transform=\"translate(0.000000, 14.000000)\">\\n                    <g id=\"tyizvsggqm\" transform=\"translate(0.000000, 2.000000)\">\\n                        <g id=\"tyudhjyfzk\">\\n                            <rect id=\"vyzintloqt\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\\n                        </g>\\n                        <path d=\"M14.853094,4 L13.4714922,4 C13.3775432,4 13.2891207,4.0390625 13.2338567,4.103125 L8.00034906,10.221875 L2.76684147,4.103125 C2.7115774,4.0390625 2.62315489,4 2.52920596,4 L1.14760417,4 C1.02786535,4 0.957864192,4.115625 1.02786535,4.1984375 L7.52323591,11.79375 C7.75902928,12.06875 8.24166884,12.06875 8.47562008,11.79375 L14.9709906,4.1984375 C15.0428339,4.115625 14.9728328,4 14.853094,4 Z\" id=\"bdmbqtegju\" fill=\"#464B53\" transform=\"translate(8.000000, 8.000000) rotate(90.000000) translate(-8.000000, -8.000000) \"></path>\\n                    </g>\\n                </g>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  PC: '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<svg   viewBox=\"0 0 80 80\" version=\"1.1\" >\\n    <title>PC</title>\\n    <g id=\"Icon\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"Special\" transform=\"translate(-237.000000, -143.000000)\">\\n            <g id=\"PC\" transform=\"translate(237.000000, 143.000000)\">\\n                <path d=\"M0,0 L72,0 C76.418278,-8.11624501e-16 80,3.581722 80,8 L80,80 L80,80 L0,0 Z\" id=\"Shape\" fill=\"#EEF3FD\"></path>\\n                <rect id=\"Shape\" stroke=\"#979797\" fill=\"#D8D8D8\" opacity=\"0\" x=\"24.5\" y=\"8.5\" width=\"47\" height=\"47\"></rect>\\n                <path d=\"M57.6451613,44.0967742 C58.446865,44.0967742 59.0967742,44.7466834 59.0967742,45.5483871 C59.0967742,46.3500908 58.446865,47 57.6451613,47 L39.2580645,47 C38.4563608,47 37.8064516,46.3500908 37.8064516,45.5483871 C37.8064516,44.7466834 38.4563608,44.0967742 39.2580645,44.0967742 L57.6451613,44.0967742 Z M61.0322581,17 C63.1701345,17 64.9032258,18.7330913 64.9032258,20.8709677 L64.9032258,37.3225806 C64.9032258,39.4604571 63.1701345,41.1935484 61.0322581,41.1935484 L35.8709677,41.1935484 C33.7330913,41.1935484 32,39.4604571 32,37.3225806 L32,20.8709677 C32,18.7330913 33.7330913,17 35.8709677,17 L61.0322581,17 Z M61.999,36.354 L34.903,36.354 L34.9032258,37.3225806 C34.9032258,37.8188734 35.2768131,38.2279102 35.7581086,38.2838119 L35.8709677,38.2903226 L61.0322581,38.2903226 C61.5285508,38.2903226 61.9375876,37.9167353 61.9934893,37.4354398 L62,37.3225806 L61.999,36.354 Z M61.0322581,19.9032258 L35.8709677,19.9032258 C35.374675,19.9032258 34.9656382,20.2768131 34.9097365,20.7581086 L34.9032258,20.8709677 L34.903,33.451 L61.999,33.451 L62,20.8709677 C62,20.374675 61.6264127,19.9656382 61.1451172,19.9097365 L61.0322581,19.9032258 Z\" id=\"SHape\" fill=\"#5B8EF4\"></path>\\n                <path d=\"M0,0 L72,0 C76.418278,-8.11624501e-16 80,3.581722 80,8 L80,80 L80,80 L0,0 Z\" id=\"Shape\" fill=\"#FFFFFF\" transform=\"translate(40.000000, 40.000000) scale(-1, -1) translate(-40.000000, -40.000000) \"></path>\\n                <path d=\"M0,0 L72,0 C76.418278,-8.11624501e-16 80,3.581722 80,8 L80,80 L80,80 L0,0 Z\" id=\"Shape\" fill=\"#FFFFFF\" transform=\"translate(40.000000, 40.000000) scale(-1, -1) translate(-40.000000, -40.000000) \"></path>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  QRCode:\n    '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<svg   viewBox=\"0 0 80 80\" version=\"1.1\" >\\n    <title>OR-code</title>\\n    <g id=\"Icon\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"Special\" transform=\"translate(-147.000000, -143.000000)\">\\n            <g id=\"OR-code\" transform=\"translate(147.000000, 143.000000)\">\\n                <path d=\"M0,0 L72,0 C76.418278,-8.11624501e-16 80,3.581722 80,8 L80,80 L80,80 L0,0 Z\" id=\"Shape\" fill=\"#EEF3FD\"></path>\\n                <g id=\"Group\" transform=\"translate(24.000000, 8.000000)\">\\n                    <rect id=\"Shape\" stroke=\"#979797\" fill=\"#D8D8D8\" opacity=\"0\" x=\"0.5\" y=\"0.5\" width=\"47\" height=\"47\"></rect>\\n                    <path d=\"M11.2357078,17.2213634 L16.7214156,17.2213634 L16.7214156,11.7356617 L11.2357078,11.7356617 L11.2357078,17.2213634 Z M39.0070461,25.449936 L41.74992,25.449936 L41.74992,34.0213474 L39.0070461,34.0213474 L39.0070461,31.2784766 L36.2641722,31.2784766 L36.2641722,28.1928069 L33.5212983,28.1928069 L33.5212983,25.449936 L36.2641722,25.449936 L36.2641722,28.1928069 L39.0070461,28.1928069 L39.0070461,25.449936 L39.0070461,25.449936 Z M30.7785444,31.2785166 L36.2642522,31.2785166 L36.2642522,36.7642183 L39.0071261,36.7642183 L39.0071261,39.5070891 L41.75,39.5070891 L41.75,42.25 L36.2642922,42.25 L36.2642922,39.5070891 L33.5214183,39.5070891 L33.5214183,34.0213874 L30.7785444,34.0213874 L30.7785444,36.7642583 L27.6928712,36.7642583 L27.6928712,39.5071291 L30.7785444,39.5071291 L30.7785444,42.25 L24.9499973,42.25 L24.9499973,25.450056 L30.7785444,25.450056 L30.7785444,28.1929269 L27.6928712,28.1929269 L27.6928712,34.0214674 L30.7785444,34.0214674 L30.7785444,31.2785966 L30.7785444,31.2785166 Z M5.75,42.24988 L22.2070834,42.24988 L22.2070834,25.449936 L5.75,25.449936 L5.75,42.24988 Z M8.4928739,28.1927669 L19.4642495,28.1927669 L19.4642495,39.5070491 L8.4928739,39.5070491 L8.4928739,28.1927669 L8.4928739,28.1927669 Z M11.2357078,36.7641783 L16.7214156,36.7641783 L16.7214156,31.2784766 L11.2357078,31.2784766 L11.2357078,36.7641783 Z M24.9499573,6.25 L24.9499573,22.7070651 L41.74992,22.7070651 L41.74992,6.25 L24.9499573,6.25 Z M39.0070461,19.9642343 L27.6927512,19.9642343 L27.6927512,8.99287086 L39.0070461,8.99287086 L39.0070461,19.9642343 L39.0070461,19.9642343 Z M5.75,22.7070651 L22.2070834,22.7070651 L22.2070834,6.25 L5.75,6.25 L5.75,22.7070651 Z M8.4928739,8.99287086 L19.4642495,8.99287086 L19.4642495,19.9642343 L8.4928739,19.9642343 L8.4928739,8.99287086 Z M36.2642122,11.7357017 L30.7785044,11.7357017 L30.7785044,17.2214034 L36.2642122,17.2214034 L36.2642122,11.7357017 Z\" id=\"Shape\" fill=\"#5B8EF4\"></path>\\n                </g>\\n                <path d=\"M0,0 L72,0 C76.418278,-8.11624501e-16 80,3.581722 80,8 L80,80 L80,80 L0,0 Z\" id=\"Shape\" fill=\"#FFFFFF\" transform=\"translate(40.000000, 40.000000) scale(-1, -1) translate(-40.000000, -40.000000) \"></path>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  Selected:\n    '\\n<svg   viewBox=\"0 0 16 16\" version=\"1.1\" >\\n    <title>wcevolzldy</title>\\n    <g id=\"htlgvkelnu\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"ygriocdgrq\" transform=\"translate(-441.000000, -304.000000)\">\\n            <g id=\"pltowgzkms\" transform=\"translate(425.000000, 284.000000)\">\\n                <g id=\"wempjlkvcg\" transform=\"translate(0.000000, 4.000000)\">\\n                    <g id=\"jstzugcgzm\" transform=\"translate(16.000000, 16.000000)\">\\n                        <rect id=\"udcchimkfy\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\\n                        <path d=\"M14.571619,2 C14.776,2 14.946,2.07417143 15.0825714,2.22261905 C15.2180952,2.37326666 15.2857143,2.561 15.2857143,2.78571428 C15.2857143,3.00613334 15.2174286,3.19166666 15.0797143,3.34231428 L6.50752381,12.7708857 C6.37047619,12.9235238 6.20095238,13 6,13 C5.7992381,13 5.62952381,12.9235238 5.49209523,12.7707809 L1.206,8.0588 C1.06857143,7.90595238 1,7.72041905 1,7.5 C1,7.27518095 1.06742857,7.08744762 1.20380952,6.93690476 C1.33952381,6.78845715 1.50971429,6.71428572 1.71390477,6.71428572 C1.91514286,6.71428572 2.08457144,6.78845715 2.22209523,6.94130476 L6,11.1033905 L14.063619,2.22691428 C14.2011429,2.07427619 14.3707619,2 14.571619,2\" id=\"sytsvrduzv\" fill=\"#2F6EED\"></path>\\n                    </g>\\n                </g>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n  Tooltip:\n    '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<svg   viewBox=\"0 0 16 16\" version=\"1.1\" >\\n    <title>Question</title>\\n    <g id=\"Icon\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <g id=\"Line\" transform=\"translate(-85.000000, -121.000000)\">\\n            <g id=\"Question\" transform=\"translate(85.000000, 121.000046)\">\\n                <rect id=\"Rectangle\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\\n                <path d=\"M8,1 C11.865625,1 15,4.134375 15,8 C15,11.865625 11.865625,15 8,15 C4.134375,15 1,11.865625 1,8 C1,4.134375 4.134375,1 8,1 Z M8,2.1875 C4.790625,2.1875 2.1875,4.790625 2.1875,8 C2.1875,11.209375 4.790625,13.8125 8,13.8125 C11.209375,13.8125 13.8125,11.209375 13.8125,8 C13.8125,4.790625 11.209375,2.1875 8,2.1875 Z M8,10.8125 C8.34517797,10.8125 8.625,11.092322 8.625,11.4375 C8.625,11.782678 8.34517797,12.0625 8,12.0625 C7.65482203,12.0625 7.375,11.782678 7.375,11.4375 C7.375,11.092322 7.65482203,10.8125 8,10.8125 Z M8,4.3125 C8.65625,4.3125 9.275,4.5375 9.74375,4.9484375 C10.23125,5.375 10.5,5.9484375 10.498451,6.5625 C10.498451,7.465625 9.903125,8.278125 8.98125,8.6328125 C8.6921875,8.74375 8.4984375,9.025 8.4984375,9.3328125 L8.4984375,9.3328125 L8.4984375,9.6875 C8.4984375,9.75625 8.4421875,9.8125 8.3734375,9.8125 L8.3734375,9.8125 L7.6234375,9.8125 C7.5546875,9.8125 7.4984375,9.75625 7.4984375,9.6875 L7.4984375,9.6875 L7.4984375,9.3515625 C7.4984375,8.990625 7.6046875,8.634375 7.809375,8.3375 C8.0109375,8.046875 8.2921875,7.825 8.6234375,7.6984375 C9.15625,7.49375 9.5,7.0484375 9.5,6.5625 C9.5,5.8734375 8.8265625,5.3125 8,5.3125 C7.1734375,5.3125 6.5,5.8734375 6.5,6.5625 L6.5,6.5625 L6.5,6.68125 C6.5,6.75 6.44375,6.80625 6.375,6.80625 L6.375,6.80625 L5.625,6.80625 C5.55625,6.80625 5.5,6.75 5.5,6.68125 L5.5,6.68125 L5.5,6.5625 C5.5,5.9484375 5.76875,5.375 6.25625,4.9484375 C6.725,4.5390625 7.34375,4.3125 8,4.3125 Z\" id=\"Shape\" fill=\"#515A62\" fill-rule=\"nonzero\"></path>\\n            </g>\\n        </g>\\n    </g>\\n</svg>',\n};\n","import clsx from 'clsx';\nimport { CSSProperties } from 'react';\nimport svgsList from '../../assets/svgs';\n\nexport interface CustomSvgProps {\n  type: keyof typeof svgsList;\n  className?: string;\n  style?: CSSProperties;\n  onClick?: () => void;\n}\nexport default function CustomSvg({ type, className, ...props }: CustomSvgProps) {\n  return (\n    <div\n      className={clsx('custom-svg', `${type.toLocaleLowerCase()}-icon`, className)}\n      dangerouslySetInnerHTML={{ __html: svgsList[type] }}\n      {...props}></div>\n  );\n}\n","import { Col, Row } from 'antd';\nimport clsx from 'clsx';\nimport CustomSvg from '../CustomSvg';\nimport { ReactNode } from 'react';\n\nexport interface TitleWrapperProps {\n  title?: ReactNode;\n  className?: string;\n  leftElement?: ReactNode | boolean;\n  rightElement?: ReactNode;\n  leftCallBack?: () => void;\n}\n\nexport default function TitleWrapper({ title, className, leftElement, rightElement, leftCallBack }: TitleWrapperProps) {\n  return (\n    <Row justify=\"space-between\" className={clsx(className)}>\n      <Col\n        className=\"title-left-col\"\n        onClick={() => {\n          if (typeof leftElement === 'boolean') return;\n          leftCallBack?.();\n        }}>\n        {leftElement ? (\n          leftElement\n        ) : typeof leftElement === 'undefined' ? (\n          <CustomSvg style={{ cursor: 'pointer' }} type=\"LeftArrow\" />\n        ) : null}\n      </Col>\n      <Col className=\"title-center\">{title}</Col>\n      <Col className=\"title-right-col\">{rightElement || ''}</Col>\n    </Row>\n  );\n}\n","import TitleWrapper, { TitleWrapperProps } from '../TitleWrapper';\nimport { useMemo } from 'react';\nimport CustomSvg from '../CustomSvg';\nimport './index.less';\n\nexport default function BackHeader({\n  title,\n  onBack,\n  rightElement,\n  ...props\n}: TitleWrapperProps & { onBack?: TitleWrapperProps['leftCallBack'] }) {\n  const defaultLeftEle = useMemo(\n    () => (\n      <div className=\"flex-row-center default-left-ele\">\n        <CustomSvg type=\"BackLeft\" className=\"left-arrow\" />\n        <span>Back</span>\n      </div>\n    ),\n    [],\n  );\n\n  return (\n    <TitleWrapper\n      className=\"back-header\"\n      title={title}\n      leftCallBack={onBack}\n      rightElement={rightElement}\n      leftElement={defaultLeftEle}\n      {...props}\n    />\n  );\n}\n","import { Input } from 'antd';\nimport { PasswordProps } from 'antd/lib/input';\nimport CustomSvg from '../CustomSvg';\nimport React, { useCallback } from 'react';\n\nconst { Password } = Input;\n\nexport default function CustomPassword({ maxLength, placeholder, iconRender, ...props }: PasswordProps) {\n  const defaultIconRender = useCallback(\n    (visible: boolean) =>\n      visible ? (\n        <CustomSvg style={{ cursor: 'pointer' }} type=\"EyeOutlined\" />\n      ) : (\n        <CustomSvg style={{ cursor: 'pointer' }} type=\"EyeInvisibleOutlined\" />\n      ),\n    [],\n  );\n\n  return (\n    <Password\n      {...props}\n      maxLength={maxLength ?? 16}\n      placeholder={placeholder ?? 'Must be at least 8 characters'}\n      iconRender={iconRender ?? defaultIconRender}\n    />\n  );\n}\n","import { Form, FormInstance } from 'antd';\nimport CustomPassword from '../CustomPassword';\nimport { ReactNode, useEffect, useState } from 'react';\nimport { isValidPassword } from '@portkey/utils/reg';\nimport { PinErrorMessage } from '@portkey/utils/wallet/types';\nimport { useTranslation } from 'react-i18next';\nimport './index.less';\n\nconst { Item: FormItem } = Form;\n\ntype ValidateFieldsType = FormInstance<any>['validateFields'];\ntype ValidateStatus = Parameters<typeof Form.Item>[0]['validateStatus'];\ninterface ConfirmPasswordProps {\n  value?: string;\n  onChange?: (value: string) => void;\n  validateFields?: ValidateFieldsType;\n  isPasswordLengthTipShow?: boolean;\n  label?: {\n    password?: ReactNode;\n    newPlaceholder?: string;\n    confirmPassword?: ReactNode;\n    confirmPlaceholder?: string;\n  };\n}\n\nexport default function ConfirmPassword({\n  validateFields,\n  value,\n  onChange,\n  isPasswordLengthTipShow = true,\n  label,\n}: ConfirmPasswordProps) {\n  const { t } = useTranslation();\n  const [password, setPassword] = useState<string>();\n  const [confirmPassword, setConfirmPassword] = useState<string>();\n  const [createValidate, setCreateValidate] = useState<{\n    validateStatus?: ValidateStatus;\n    errorMsg?: string;\n  }>({\n    validateStatus: 'validating',\n    errorMsg: '',\n  });\n\n  useEffect(() => {\n    if (confirmPassword === password) {\n      password && onChange?.(password);\n      confirmPassword && validateFields?.(['confirmPassword']);\n    } else {\n      onChange?.('');\n      confirmPassword && validateFields?.(['confirmPassword']);\n    }\n  }, [confirmPassword, onChange, password, validateFields]);\n\n  return (\n    <div className=\"confirm-password\">\n      <FormItem\n        label={\n          label?.password ? (\n            label?.password\n          ) : (\n            <>\n              <span style={{ marginRight: 8 }}>{t('Pin (Must be at least 8 characters)')}</span>\n            </>\n          )\n        }\n        name=\"password1\"\n        validateStatus={createValidate.validateStatus}\n        validateTrigger=\"onBlur\"\n        help={createValidate.errorMsg || (isPasswordLengthTipShow ? t('Must be at least 8 characters') : undefined)}\n        rules={[\n          { required: true, message: '' },\n          () => ({\n            validator(_, value) {\n              if (!value) {\n                setCreateValidate({\n                  validateStatus: 'error',\n                  errorMsg: t('Please enter Pin'),\n                });\n                return Promise.reject(t('Please enter Pin'));\n              }\n              if (value.length < 8) {\n                setCreateValidate({\n                  validateStatus: 'error',\n                  errorMsg: t(PinErrorMessage.PinNotLong),\n                });\n                return Promise.reject(t(PinErrorMessage.PinNotLong));\n              }\n              if (!isValidPassword(value)) {\n                setCreateValidate({\n                  validateStatus: 'error',\n                  errorMsg: t(PinErrorMessage.invalidPin),\n                });\n                return Promise.reject(t(PinErrorMessage.invalidPin));\n              }\n              setCreateValidate({\n                validateStatus: 'success',\n                errorMsg: '',\n              });\n              return Promise.resolve();\n            },\n          }),\n        ]}>\n        <CustomPassword\n          placeholder={label?.newPlaceholder || t('Enter Pin')}\n          value={value || password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </FormItem>\n      <FormItem\n        label={label?.confirmPassword ? label?.confirmPassword : t('Confirm Pin')}\n        name=\"confirmPassword\"\n        validateTrigger=\"onBlur\"\n        rules={[\n          { required: true, message: t('Please enter Pin') },\n          () => ({\n            validator(_, value) {\n              if (!value || password === value) {\n                return Promise.resolve();\n              }\n              return Promise.reject(new Error(t('Pins do not match')));\n            },\n          }),\n        ]}>\n        <CustomPassword\n          placeholder={label?.confirmPlaceholder || t('Enter Pin')}\n          value={confirmPassword}\n          onChange={(e) => setConfirmPassword(e.target.value)}\n        />\n      </FormItem>\n    </div>\n  );\n}\n","import { Button, Form, FormProps } from 'antd';\nimport ConfirmPassword from '../ConfirmPassword';\nimport { useTranslation } from 'react-i18next';\nimport clsx from 'clsx';\nimport './index.less';\n\nconst { Item: FormItem } = Form;\n\nexport interface SetPinBaseProps {\n  className?: string;\n  onFinish?: (val: string) => void;\n  onFinishFailed?: FormProps['onFinishFailed'];\n}\n\nexport default function SetPinBase({ className, onFinish, onFinishFailed }: SetPinBaseProps) {\n  const [form] = Form.useForm();\n  const { t } = useTranslation();\n\n  return (\n    <div className={clsx('set-pin-wrapper', className)} id=\"set-pin-wrapper\">\n      <div className=\"set-pin-content\">\n        <div className=\"set-pin-title\">{t('Enter Pin to Protect Your Wallet')}</div>\n        <Form\n          layout=\"vertical\"\n          className=\"set-pin-form\"\n          name=\"CreateWalletForm\"\n          form={form}\n          requiredMark={false}\n          onFinish={({ pin }) => onFinish?.(pin)}\n          onFinishFailed={onFinishFailed}\n          autoComplete=\"off\">\n          <FormItem name=\"pin\" style={{ marginBottom: 16 }}>\n            <ConfirmPassword validateFields={form.validateFields} isPasswordLengthTipShow={false} />\n          </FormItem>\n\n          <FormItem className=\"submit-btn-form-item\" shouldUpdate>\n            {() => (\n              <Button\n                className=\"submit-btn\"\n                type=\"primary\"\n                htmlType=\"submit\"\n                disabled={\n                  !form.isFieldsTouched(true) || !!form.getFieldsError().filter(({ errors }) => errors.length).length\n                }>\n                {t('Confirm')}\n              </Button>\n            )}\n          </FormItem>\n        </Form>\n      </div>\n    </div>\n  );\n}\n","import BackHeader from '../../../BackHeader';\nimport SetPinBase, { SetPinBaseProps } from '../../../SetPinBase/index.component';\nimport './index.less';\n\ninterface SetPinProps extends SetPinBaseProps {\n  onCancel?: () => void;\n}\n\nexport default function SetPin(props: SetPinProps) {\n  return (\n    <div className=\"scan-set-pin-wrapper\">\n      <BackHeader onBack={props?.onCancel} />\n      <SetPinBase {...props} />\n    </div>\n  );\n}\n","import { ErrorInfo, OnErrorFunc } from '../types/error';\nimport { message } from 'antd';\n\nexport const verifyErrorHandler = (error: any) => {\n  // let _error = isVerifyApiError(error);\n  let _error: string;\n  if (error?.type) {\n    _error = error.type;\n  } else if (typeof error === 'string') {\n    _error = error;\n  } else {\n    _error = error?.message || error?.error?.message || 'Something error';\n  }\n  return _error;\n};\n\nexport const contractErrorHandler = (error: any) => {\n  if (typeof error === 'string') return error;\n  return error?.Error?.Message || error?.message?.Message || error?.message || error?.Error;\n};\n\nexport const errorTip = (errorInfo: ErrorInfo, isShowTip?: boolean, onError?: OnErrorFunc) => {\n  if (isShowTip) message.error(errorInfo.error);\n  onError?.(errorInfo);\n};\n","import { DeviceType } from '@portkey/types/types-ca/wallet';\n\n// device\nexport const DEVICE_TYPE = (() => {\n  if (typeof navigator !== 'undefined') {\n    const agent = navigator.userAgent.toLowerCase();\n    const isMac = /macintosh|mac os x/i.test(navigator.userAgent);\n    if (isMac) {\n      return DeviceType.mac;\n    }\n    if (agent.indexOf('win') >= 0 || agent.indexOf('wow') >= 0) {\n      return DeviceType.windows;\n    }\n    return DeviceType.other;\n  } else {\n    return DeviceType.other;\n  }\n})();\n","import { WalletInfoType } from '@portkey/types/wallet';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport AElf from 'aelf-sdk';\nimport { useEffectOnce } from 'react-use';\nimport { LoginQRData } from '@portkey/types/types-ca/qrcode';\nimport { useIntervalQueryCAInfoByAddress } from '../../hooks/graphql';\nimport { ReactNode } from 'react';\nimport { NetworkItem } from '@portkey/types/types-ca/network';\nimport { handlePrivateKey } from '@portkey/store/wallet/utils';\nimport { isPrivateKey } from '@portkey/utils';\nimport { getAccountByPrivateKey } from '@portkey/utils/wallet';\nimport ScanCard from './components/ScanCard';\nimport SetPin from './components/SetPin';\nimport { WalletError } from '@portkey/store/wallet/type';\nimport { DIDWalletInfo } from '../types';\nimport { OnErrorFunc } from '../../types/error';\nimport { errorTip } from '../../utils/errorHandler';\nimport { DEVICE_TYPE } from '../../constants/common';\nimport './index.less';\n\nexport interface ScanBaseProps {\n  chainId?: string;\n  backIcon?: ReactNode;\n  privateKey?: string;\n  currentNetwork?: NetworkItem;\n  isErrorTip?: boolean;\n  onError?: OnErrorFunc;\n  onBack?: () => void;\n  onFinish?: (walletInfo: DIDWalletInfo) => void;\n  onFinishFailed?: (errorInfo: any) => void;\n}\n\nenum ScanStep {\n  Scan = 'Scan',\n  SetPin = 'SetPin',\n}\n\nexport default function ScanBase({\n  chainId = 'AELF',\n  backIcon,\n  isErrorTip,\n  privateKey,\n  currentNetwork,\n  onError,\n  onBack,\n  onFinish,\n  onFinishFailed,\n}: ScanBaseProps) {\n  const [step, setStep] = useState<ScanStep>(ScanStep.Scan);\n  const [newWallet, setNewWallet] = useState<WalletInfoType>();\n\n  const caWallet = useIntervalQueryCAInfoByAddress({\n    uri: currentNetwork?.graphqlUrl,\n    address: newWallet?.address,\n    chainId,\n  });\n  console.log(caWallet, 'caWallet====');\n\n  const generateKeystore = useCallback(() => {\n    try {\n      let wallet;\n      if (privateKey) {\n        const key = handlePrivateKey(privateKey);\n        if (!isPrivateKey(key)) throw 'Invalid Private Key';\n        wallet = getAccountByPrivateKey(key);\n      } else {\n        wallet = AElf.wallet.createNewWallet();\n      }\n\n      setNewWallet(wallet);\n    } catch (error: any) {\n      console.error(error, 'ScanBase===');\n\n      return errorTip(\n        {\n          errorFields: 'ScanBase',\n          error,\n        },\n        isErrorTip,\n        onError,\n      );\n    }\n  }, [isErrorTip, onError, privateKey]);\n\n  useEffectOnce(() => {\n    const timer = setTimeout(() => {\n      generateKeystore();\n    }, 10);\n    return () => {\n      timer && clearTimeout(timer);\n    };\n  });\n\n  const qrData = useMemo(() => {\n    if (!newWallet) return '';\n    if (!currentNetwork) return '';\n    const data: LoginQRData = {\n      type: 'login',\n      address: newWallet.address,\n      netWorkType: currentNetwork.networkType,\n      chainType: currentNetwork.walletType,\n      deviceType: DEVICE_TYPE,\n    };\n    return JSON.stringify(data);\n  }, [currentNetwork, newWallet]);\n\n  useEffect(() => {\n    if (caWallet) setStep(ScanStep.SetPin);\n  }, [caWallet]);\n\n  console.log(qrData, newWallet, 'qrData===caWallet');\n\n  const onFinishHandler = useCallback(\n    (pin: string) => {\n      if (!newWallet) throw WalletError.noCreateWallet;\n      if (!caWallet) throw WalletError.noCreateWallet;\n      onFinish?.({\n        pin,\n        walletInfo: newWallet,\n        caInfo: caWallet,\n      });\n    },\n    [caWallet, newWallet, onFinish],\n  );\n\n  return (\n    <div className=\"scan-base-wrapper\">\n      {step === ScanStep.Scan && <ScanCard backIcon={backIcon} onBack={onBack} qrData={qrData} />}\n      {step === ScanStep.SetPin && (\n        <SetPin onFinish={onFinishHandler} onFinishFailed={onFinishFailed} onCancel={() => setStep(ScanStep.Scan)} />\n      )}\n    </div>\n  );\n}\n","import { NetworkList } from '@portkey/constants/constants-ca/network';\nimport { GlobalConfigProps } from './types';\n\nconst defaultConfig: GlobalConfigProps = {\n  network: {\n    networkList: NetworkList,\n    defaultNetwork: NetworkList[0].networkType,\n  },\n  // fontFamily400: '../../assets/fonts/Roboto-Regular.ttf',\n  // fontFamily500: '../../assets/fonts/Roboto-Medium.ttf',\n  // fontFamily600: '../../assets/fonts/Roboto-Bold.ttf',\n  // storage?: Storage; //\n  // prefixCls: string;\n};\n\ntype ConfigKey = keyof GlobalConfigProps;\n\nclass LocalConfigProvider {\n  config: GlobalConfigProps;\n\n  constructor(config: GlobalConfigProps) {\n    this.config = config;\n  }\n\n  getGlobalConfig = () => {\n    return this.config;\n  };\n\n  getConfig = (key: ConfigKey) => {\n    return this.config?.[key];\n  };\n\n  setGlobalConfig = (_config: Partial<GlobalConfigProps>) => {\n    this.config = { ...this.config, ..._config };\n  };\n\n  setNetwork = (network: string) => {\n    this.config.network.defaultNetwork = network;\n  };\n}\n\nexport const localConfigProvider = new LocalConfigProvider(defaultConfig);\n","import './index.less';\n\nexport default function Loading() {\n  return (\n    <div className=\"sk-circle\">\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n      <div className=\"sk-circle-dot\"></div>\n    </div>\n  );\n}\n","import EventEmitter from 'events';\n\nexport const eventBus = new EventEmitter();\n\nexport const isExtension = () => location.protocol === 'chrome-extension:';\n","export const SET_GLOBAL_LOADING = 'SET_GLOBAL_LOADING';\n","import Loading from '../Loading';\nimport { useEffect, useState, useCallback } from 'react';\nimport { eventBus } from '../../utils';\nimport { SET_GLOBAL_LOADING } from '../../constants/events';\nimport { OpacityType } from '@portkey/types';\nimport './index.less';\n\nexport default function ScreenLoading() {\n  const [isLoading, setLoading] = useState<boolean | OpacityType>();\n\n  const setLoadingHandler = useCallback((e: boolean | OpacityType) => setLoading(e), []);\n\n  useEffect(() => {\n    eventBus.addListener(SET_GLOBAL_LOADING, setLoadingHandler);\n    return () => {\n      eventBus.removeListener(SET_GLOBAL_LOADING, setLoadingHandler);\n    };\n  }, [setLoadingHandler]);\n\n  return (\n    <>\n      {!!isLoading && (\n        <div\n          className=\"fix-max-content portkey-ui-loading-wrapper\"\n          style={\n            typeof isLoading !== 'number'\n              ? {}\n              : {\n                  backgroundColor: `rgb(00 00 00 / ${isLoading * 100}%)`,\n                }\n          }>\n          <Loading />\n          <div className=\"loading-text\">Loading...</div>\n        </div>\n      )}\n    </>\n  );\n}\n","export default {\n  sandboxIdRequired: \"The current platform is chrome extension, 'sandboxId' is  required\",\n  getContractError: 'Failed to get contract',\n  getChainError: 'Unable to get chain information',\n  missStorage: 'Please configure Storage',\n};\n","import { IStorage } from '@portkey/types/storage';\nimport ErrorTip from '../constants/error';\n\nexport class BaseAsyncStorage implements IStorage {\n  public async getItem(key: string) {\n    if (typeof localStorage !== 'undefined') return localStorage.getItem(key);\n    else throw Error(ErrorTip.missStorage);\n  }\n  public async setItem(key: string, value: string) {\n    if (typeof localStorage !== 'undefined') return localStorage.setItem(key, value);\n    else throw Error(ErrorTip.missStorage);\n  }\n  public async removeItem(key: string) {\n    if (typeof localStorage !== 'undefined') return localStorage.removeItem(key);\n    else throw Error(ErrorTip.missStorage);\n  }\n}\n","import { Verification } from '@portkey/api/api-did/verification/utils';\nimport { IStorage } from '@portkey/types/storage';\nimport { BaseAsyncStorage } from '../../utils/BaseAsyncStorage';\n\nconst store = new BaseAsyncStorage();\nexport let verification = new Verification(store);\n\nexport const configVerification = (store: IStorage) => {\n  verification = new Verification(store);\n  return verification;\n};\n","import { useMemo } from 'react';\nimport { ConfigProvider } from 'antd';\nimport type { ConfigProviderProps } from 'antd/lib/config-provider';\nimport localConfigProvider from './index';\nimport ScreenLoading from '../ScreenLoading';\nimport { useEffectOnce } from 'react-use';\nimport { configVerification } from './api';\n\nexport default function BaseConfigProvider({ children }: { children: ConfigProviderProps['children'] }) {\n  const config = useMemo(() => localConfigProvider.getGlobalConfig(), []);\n  // useEffectOnce(() => {\n  //   ConfigProvider.config({\n  //     prefixCls: 'antd',\n  //   });\n  // });\n  useEffectOnce(() => {\n    config.storage && configVerification(config.storage);\n    // TODO\n    // const fontFamily400 = config?.fontFamily400;\n    // const fontFamily500 = config?.fontFamily500;\n    // const fontFamily600 = config?.fontFamily600;\n    // fontFamily400 && loadFonts('portkey-ui-font', fontFamily400, { weight: '400' });\n    // fontFamily500 && loadFonts('portkey-ui-font', fontFamily500, { weight: '500' });\n    // fontFamily600 && loadFonts('portkey-ui-font', fontFamily600, { weight: '600' });\n  });\n\n  return (\n    <>\n      <ConfigProvider locale={config?.locale}>\n        <div\n          className=\"portkey-ui-wrapper\"\n          //</ConfigProvider>style={{ fontFamily: 'portkey-ui-font' }}\n        >\n          <ScreenLoading />\n          {children}\n        </div>\n      </ConfigProvider>\n    </>\n  );\n}\n","import { localConfigProvider } from './LocalConfig';\nimport _BaseConfigProvider from './BaseConfigProvider';\n\nconst ConfigProvider = localConfigProvider;\n\nexport const BaseConfigProvider = _BaseConfigProvider;\nexport default ConfigProvider;\n","import ScanBaseCom, { ScanBaseProps } from './index.component';\nimport { BaseConfigProvider } from '../config-provider';\n\nexport default function ScanBase(props?: ScanBaseProps) {\n  return (\n    <BaseConfigProvider>\n      <ScanBaseCom {...props} />\n    </BaseConfigProvider>\n  );\n}\n","import { Col, Modal, ModalProps, Row } from 'antd';\nimport clsx from 'clsx';\nimport { LeftOutlined } from '@ant-design/icons';\nimport React, { ReactNode } from 'react';\nimport './styles.less';\n\nexport interface CommonModalProps extends ModalProps {\n  className?: string;\n  leftCallBack?: () => void;\n  leftElement?: ReactNode;\n  transitionName?: string;\n}\n\nexport default function CommonModal(props: CommonModalProps) {\n  const { leftCallBack, width, title, leftElement, transitionName } = props;\n  return (\n    <Modal\n      maskClosable={false}\n      centered={props.centered ?? true}\n      destroyOnClose\n      footer={null}\n      maskStyle={{ backgroundColor: 'rgba(0, 0, 0, 0.3)' }}\n      {...props}\n      width={width ? width : '400px'}\n      className={clsx('portkey-ui-common-modals', props.className)}\n      transitionName={transitionName}\n      title={\n        <Row justify=\"space-between\">\n          {leftCallBack || leftElement ? (\n            <Col className=\"common-modal-left-icon\" flex={1} onClick={leftCallBack}>\n              {leftElement || <LeftOutlined />}\n            </Col>\n          ) : null}\n          <Col flex={2} style={{ textAlign: 'center' }}>\n            {title}\n          </Col>\n          {leftCallBack || leftElement ? <Col flex={1} /> : null}\n        </Row>\n      }\n    />\n  );\n}\n","import { Image, ImageProps } from 'antd';\nimport clsx from 'clsx';\nimport './index.less';\n\nconst defaultFallback =\n  'data:image/png;base64,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';\n\nexport default function BaseVerifierIcon({ fallback, rootClassName, ...props }: ImageProps) {\n  return (\n    <Image\n      rootClassName={clsx('base-verifier-icon', rootClassName)}\n      width={40}\n      height={40}\n      preview={false}\n      fallback={fallback ?? defaultFallback}\n      {...props}\n    />\n  );\n}\n","import { Select, SelectProps } from 'antd';\nimport clsx from 'clsx';\nimport { ReactNode, useMemo } from 'react';\nimport './index.less';\n\nexport interface CommonSelectProps extends SelectProps {\n  items?: { value: string; label: ReactNode; icon?: ReactNode; disabled?: boolean }[];\n}\n\nexport default function CommonSelect({ items, className, ...props }: CommonSelectProps) {\n  const selectOptions = useMemo(\n    () =>\n      items?.map((item) => ({\n        value: item.value,\n        disabled: item.disabled,\n        label: (\n          <div className=\"flex-row-center label-item\">\n            <div className=\"label-icon\">{item.icon}</div>\n            <div className=\"title\">{item.label}</div>\n          </div>\n        ),\n      })),\n    [items],\n  );\n\n  return (\n    <Select\n      className={clsx('portkey-ui-common-select', className)}\n      showArrow={false}\n      getPopupContainer={(triggerNode) => triggerNode.parentElement}\n      style={{ width: '100%' }}\n      options={selectOptions}\n      {...props}\n    />\n  );\n}\n","import { eventBus } from './index';\nimport { OpacityType } from '@portkey/types';\nimport { SET_GLOBAL_LOADING } from '../constants/events';\n\nexport const setLoading = (loading: boolean | OpacityType) => eventBus.emit(SET_GLOBAL_LOADING, loading);\n","import { Button } from 'antd';\nimport CommonModal from '../CommonModal';\nimport { useCallback, useMemo, useState } from 'react';\nimport BaseVerifierIcon from '../BaseVerifierIcon';\nimport CommonSelect from '../CommonSelect';\nimport { useTranslation } from 'react-i18next';\nimport { errorTip, verifyErrorHandler } from '../../utils/errorHandler';\nimport { LoginType } from '@portkey/types/types-ca/wallet';\nimport { setLoading } from '../../utils/loading';\nimport clsx from 'clsx';\nimport { VerifierItem } from '@portkey/types/verifier';\nimport { LoginStrType } from '@portkey/constants/constants-ca/guardian';\nimport { DefaultChainId } from '@portkey/constants/constants-ca/network';\nimport { useUpdateEffect } from 'react-use';\nimport { OnErrorFunc } from '../../types/error';\nimport { verification } from '../config-provider/api';\nimport './index.less';\n\nexport interface VerifierSelectProps {\n  serviceUrl: string;\n  verifierList?: VerifierItem[];\n  defaultVerifier?: string;\n  guardianAccount: string;\n  className?: string;\n  loginType?: LoginType;\n  isErrorTip?: boolean;\n  onError?: OnErrorFunc;\n  onConfirm?: (result: { verifier: VerifierItem; verifierSessionId: string; endPoint: string }) => void;\n}\n\nexport default function VerifierSelect({\n  className,\n  serviceUrl,\n  isErrorTip,\n  verifierList,\n  guardianAccount,\n  loginType = LoginType.email,\n  defaultVerifier,\n  onError,\n  onConfirm,\n}: VerifierSelectProps) {\n  const [open, setOpen] = useState<boolean>();\n  const { t } = useTranslation();\n\n  const selectItems = useMemo(\n    () =>\n      verifierList?.map((item) => ({\n        value: item.id,\n        iconUrl: item.imageUrl ?? '',\n        label: item.name,\n        url: item.endPoints[0],\n        icon: <img src={item.imageUrl} />,\n        id: item.id,\n      })),\n    [verifierList],\n  );\n  const _defaultVerifier = useMemo(() => defaultVerifier || selectItems?.[0]?.value, [defaultVerifier, selectItems]);\n\n  const handleChange = useCallback((value: string) => {\n    setSelectVal(value);\n  }, []);\n\n  const [selectVal, setSelectVal] = useState<string | undefined>(_defaultVerifier);\n\n  useUpdateEffect(() => {\n    setSelectVal((v) => {\n      console.log(v);\n      return v ? v : _defaultVerifier;\n    });\n  }, [_defaultVerifier]);\n\n  const selectItem = useMemo(() => verifierList?.find((item) => item.id === selectVal), [selectVal, verifierList]);\n\n  const verifyHandler = useCallback(async () => {\n    try {\n      if (!selectItem)\n        return errorTip(\n          {\n            errorFields: 'VerifierSelect',\n            error: 'Can not get verification',\n          },\n          isErrorTip,\n          onError,\n        );\n\n      setLoading(true);\n\n      const result = await verification.sendVerificationCode({\n        baseURL: serviceUrl,\n        params: {\n          guardianAccount,\n          type: LoginStrType[loginType],\n          verifierId: selectItem.id,\n          chainId: DefaultChainId,\n        },\n      });\n      setLoading(false);\n      setOpen(false);\n      if (result.verifierSessionId) {\n        onConfirm?.({ verifier: selectItem, ...result });\n      }\n    } catch (error: any) {\n      setLoading(false);\n      console.log(error, 'verifyHandler==error');\n      const _error = verifyErrorHandler(error);\n\n      errorTip(\n        {\n          errorFields: 'VerifierSelect',\n          error: _error,\n        },\n        isErrorTip,\n        onError,\n      );\n    }\n  }, [guardianAccount, isErrorTip, loginType, onConfirm, onError, selectItem, serviceUrl]);\n\n  return (\n    <div className={clsx('portkey-ui-select-verifier-wrapper', className)}>\n      <div className=\"select-verifier-content\" id=\"select-verifier-content\">\n        <div className=\"select-verifier-inner\">\n          <div className=\"select-verifier-title\">{t('Select verifier')}</div>\n          <p className=\"select-verifier-description\">\n            {t('The recovery of decentralized accounts requires approval from your verifiers')}\n          </p>\n          <CommonSelect className=\"verifier-select\" value={selectVal} onChange={handleChange} items={selectItems} />\n          <p className=\"popular-title\">{t('Popular')}</p>\n          <ul className=\"popular-content\">\n            {selectItems?.slice(0, 3)?.map((item) => (\n              <li key={item.value} className=\"popular-item\" onClick={() => handleChange(item.value)}>\n                <BaseVerifierIcon src={item.iconUrl} rootClassName=\"popular-item-image\" />\n                <p className=\"popular-item-name\">{item.label}</p>\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        <Button\n          className=\"confirm-btn\"\n          type=\"primary\"\n          onClick={() => {\n            if (!guardianAccount)\n              return errorTip(\n                {\n                  errorFields: 'VerifierSelect',\n                  error: 'Missing parameter guardianAccount',\n                },\n                isErrorTip,\n                onError,\n              );\n\n            setOpen(true);\n          }}>\n          {t('Confirm')}\n        </Button>\n      </div>\n      <CommonModal\n        getContainer={'#select-verifier-content'}\n        className=\"verify-confirm-modal\"\n        closable={false}\n        open={open}\n        width={320}\n        onCancel={() => setOpen(false)}>\n        <p className=\"modal-content\">\n          {`${\n            selectItem?.name ?? ''\n          } will send a verification code to ${guardianAccount} to verify your email address.`}\n        </p>\n        <div className=\"btn-wrapper\">\n          <Button onClick={() => setOpen(false)}>{t('Cancel')}</Button>\n          <Button type=\"primary\" onClick={verifyHandler}>\n            {t('Confirm')}\n          </Button>\n        </div>\n      </CommonModal>\n    </div>\n  );\n}\n","import VerifierSelectCom, { VerifierSelectProps } from './index.component';\nimport { BaseConfigProvider } from '../config-provider';\n\nexport default function VerifierSelect(props: VerifierSelectProps) {\n  return (\n    <BaseConfigProvider>\n      <VerifierSelectCom {...props} />\n    </BaseConfigProvider>\n  );\n}\n","import { getWalletCAAddressByApi } from '@portkey/hooks/hooks-ca/wallet-result';\nimport { VerificationType } from '@portkey/types/verifier';\nimport { useCallback } from 'react';\n// import { contractErrorHandler } from 'utils/tryErrorHandler';\n\nexport default function useFetchDidWalletInfo() {\n  const fetch = useCallback(\n    async ({\n      baseURL,\n      sessionId,\n      verificationType,\n    }: {\n      baseURL: string;\n      managerAddress: string;\n      sessionId: string;\n      verificationType: VerificationType;\n    }) => {\n      const walletResult = await getWalletCAAddressByApi({\n        baseURL,\n        verificationType,\n        managerUniqueId: sessionId,\n      });\n\n      console.log(walletResult, 'walletResult===');\n      if (walletResult.status !== 'pass') {\n        const errorString = walletResult?.message || walletResult.status;\n        throw (errorString as string) || 'Something error';\n      } else {\n        return walletResult;\n      }\n    },\n    [],\n  );\n  return fetch;\n}\n","import { handlePrivateKey, isWalletError } from '@portkey/store/wallet/utils';\nimport { LoginType, ManagerInfo } from '@portkey/types/types-ca/wallet';\nimport { isPrivateKey, randomId } from '@portkey/utils';\nimport { formatWalletInfo, getAccountByPrivateKey } from '@portkey/utils/wallet';\nimport { useState, useCallback } from 'react';\nimport { setLoading } from '../../utils/loading';\nimport SetPinBase from '../SetPinBase/index.component';\nimport AElf from 'aelf-sdk';\nimport { WalletInfoType } from '@portkey/types/wallet';\nimport { useEffectOnce } from 'react-use';\nimport { VerificationType } from '@portkey/types/verifier';\nimport clsx from 'clsx';\nimport { recoveryDIDWallet, registerDIDWallet } from '@portkey/api/api-did/utils/wallet';\nimport { GuardiansApprovedType } from '@portkey/types/guardian';\nimport { DIDWalletInfo } from '../types';\nimport { LoginStrType } from '@portkey/constants/constants-ca/guardian';\nimport useFetchDidWalletInfo from '../../hooks/useFetchDidWalletInfo';\nimport { OnErrorFunc } from '../../types/error';\nimport { errorTip } from '../../utils/errorHandler';\n\nexport interface SetPinAndAddManagerProps {\n  serviceUrl: string;\n  className?: string;\n  loginType?: LoginType;\n  privateKey?: string;\n  chainId?: string;\n  guardianAccount: string;\n  verificationType: VerificationType;\n  walletName?: string;\n  guardianApprovedList: GuardiansApprovedType[];\n  isErrorTip?: boolean;\n  onError?: OnErrorFunc;\n  onAddManager?: (result: { managerInfo: ManagerInfo; pin: string; walletInfo: WalletInfoType }) => void;\n  onFinish?: (values: DIDWalletInfo) => void;\n}\n\nexport default function SetPinAndAddManager({\n  serviceUrl,\n  chainId = 'AELF',\n  className,\n  loginType = LoginType.email,\n  privateKey,\n  walletName = 'walletName',\n  guardianAccount,\n  verificationType,\n  guardianApprovedList,\n  isErrorTip,\n  onError,\n  onFinish,\n  onAddManager,\n}: SetPinAndAddManagerProps) {\n  const [newWallet, setNewWallet] = useState<WalletInfoType>();\n  const getWalletCAAddressResult = useFetchDidWalletInfo();\n\n  const generateKeystore = useCallback(() => {\n    try {\n      let wallet;\n      if (privateKey) {\n        const key = handlePrivateKey(privateKey);\n        if (!isPrivateKey(key)) throw 'Invalid Private Key';\n        wallet = getAccountByPrivateKey(key);\n      } else {\n        wallet = AElf.wallet.createNewWallet();\n      }\n\n      setNewWallet(wallet);\n    } catch (error: any) {\n      console.error(error);\n      return errorTip(\n        {\n          errorFields: 'SetPinAndAddManager',\n          error: error,\n        },\n        isErrorTip,\n        onError,\n      );\n    }\n  }, [isErrorTip, onError, privateKey]);\n\n  useEffectOnce(() => {\n    generateKeystore();\n  });\n\n  const requestRegisterDIDWallet = useCallback(\n    async ({ managerAddress }: { managerAddress: string }) => {\n      if (!guardianAccount || !LoginStrType[loginType]) throw 'Missing account!!! Please login/register again';\n      // const baseUrl\n      if (!guardianApprovedList?.length) throw 'Missing guardianApproved';\n      const requestId = randomId();\n      const registerVerifier = guardianApprovedList[0];\n      const result = await registerDIDWallet({\n        baseUrl: serviceUrl,\n        type: LoginStrType[loginType],\n        loginGuardianAccount: guardianAccount,\n        managerAddress,\n        deviceString: Date.now().toString(), //navigator.userAgent,\n        chainId,\n        verifierId: registerVerifier.verifierId,\n        verificationDoc: registerVerifier.verificationDoc,\n        signature: registerVerifier.signature,\n        context: {\n          clientId: managerAddress,\n          requestId,\n        },\n      });\n      return {\n        requestId,\n        sessionId: result.sessionId,\n      };\n    },\n    [chainId, guardianAccount, guardianApprovedList, loginType, serviceUrl],\n  );\n\n  const requestRecoveryDIDWallet = useCallback(\n    async ({ managerAddress }: { managerAddress: string }) => {\n      if (!guardianAccount || !LoginStrType[loginType]) throw 'Missing account!!! Please login/register again';\n      const requestId = randomId();\n      const result = await recoveryDIDWallet({\n        baseURL: serviceUrl,\n        loginGuardianAccount: guardianAccount,\n        managerAddress,\n        deviceString: Date.now().toString(), //navigator.userAgent,\n        chainId,\n        guardiansApproved: guardianApprovedList,\n        context: {\n          clientId: managerAddress,\n          requestId,\n        },\n      });\n\n      return {\n        requestId,\n        sessionId: result.sessionId,\n      };\n    },\n    [guardianAccount, loginType, serviceUrl, chainId, guardianApprovedList],\n  );\n\n  const onCreate = useCallback(\n    async (values: any) => {\n      try {\n        const { pin } = values;\n        if (!guardianAccount) throw 'Missing account!!!';\n        if (!newWallet?.address) throw 'No walletInfo';\n        const formatWallet = formatWalletInfo(newWallet, pin, walletName);\n        if (!formatWallet) throw 'Create managerInfo error';\n        const { walletInfo } = formatWallet;\n        setLoading(true);\n\n        // Step 9\n        let sessionInfo = {\n          requestId: walletInfo.address,\n          sessionId: '',\n        };\n\n        if (verificationType === VerificationType.register) {\n          sessionInfo = await requestRegisterDIDWallet({ managerAddress: walletInfo.address });\n        } else if (verificationType === VerificationType.communityRecovery) {\n          sessionInfo = await requestRecoveryDIDWallet({ managerAddress: walletInfo.address });\n        } else {\n          throw 'VerificationType error';\n        }\n\n        const managerInfo = {\n          managerUniqueId: sessionInfo.sessionId,\n          clientId: walletInfo.address,\n          requestId: sessionInfo.requestId,\n          loginAccount: guardianAccount,\n          type: loginType,\n          verificationType,\n        };\n\n        onAddManager?.({\n          managerInfo,\n          pin,\n          walletInfo,\n        });\n\n        // // TODO Get  caAddress\n\n        const walletResult = await getWalletCAAddressResult({\n          baseURL: serviceUrl,\n          verificationType,\n          sessionId: sessionInfo.sessionId,\n          managerAddress: walletInfo.address,\n        });\n\n        onFinish?.({\n          caInfo: {\n            managerInfo,\n            [chainId]: {\n              caAddress: walletResult.caAddress,\n              caHash: walletResult.caHash,\n            },\n          },\n          pin,\n          walletInfo,\n        });\n      } catch (error: any) {\n        setLoading(false);\n        console.log(error, 'onCreate==error');\n        let _error;\n\n        const walletError = isWalletError(error);\n        if (walletError) {\n          _error = walletError;\n        } else if (error?.message || error?.error?.message) {\n          _error = error?.message || error?.error?.message;\n        } else {\n          _error = typeof error === 'string' ? error : 'Something error';\n        }\n\n        return errorTip(\n          {\n            errorFields: 'SetPinAndAddManager',\n            error: _error,\n          },\n          isErrorTip,\n          onError,\n        );\n      }\n      setLoading(false);\n    },\n    [\n      guardianAccount,\n      newWallet,\n      walletName,\n      verificationType,\n      loginType,\n      onAddManager,\n      getWalletCAAddressResult,\n      serviceUrl,\n      onFinish,\n      chainId,\n      requestRegisterDIDWallet,\n      requestRecoveryDIDWallet,\n      isErrorTip,\n      onError,\n    ],\n  );\n\n  return (\n    <SetPinBase\n      className={clsx('portkey-card-height', className)}\n      onFinish={onCreate}\n      onFinishFailed={(err) =>\n        errorTip(\n          {\n            errorFields: 'SetPinAndAddManager',\n            error: `Form Error: ${err.errorFields[0].name}`,\n          },\n          isErrorTip,\n          onError,\n        )\n      }\n    />\n  );\n}\n","import SetPinAndAddManagerCom, { SetPinAndAddManagerProps } from './index.component';\nimport { BaseConfigProvider } from '../config-provider';\n\nexport default function SetPinAndAddManager(props: SetPinAndAddManagerProps) {\n  return (\n    <BaseConfigProvider>\n      <SetPinAndAddManagerCom {...props} />\n    </BaseConfigProvider>\n  );\n}\n","import { Tooltip, TooltipProps } from 'antd';\nimport clsx from 'clsx';\nimport CustomSvg from '../CustomSvg';\nimport './index.less';\n\nexport default function CommonTooltip({ ...props }: TooltipProps) {\n  return (\n    <Tooltip getPopupContainer={(v) => v} overlayClassName={clsx('common-tooltip', props.overlayClassName)} {...props}>\n      {props.children ? props.children : <CustomSvg type=\"Tooltip\" />}\n    </Tooltip>\n  );\n}\n","import { LoginType } from '@portkey/types/types-ca/wallet';\nimport clsx from 'clsx';\nimport BaseVerifierIcon from '../BaseVerifierIcon';\nimport CustomSvg from '../CustomSvg';\nimport './index.less';\n\ninterface VerifierPairProps {\n  guardianType?: LoginType;\n  verifierSrc?: string;\n  wrapperClassName?: string;\n  size?: number;\n}\nexport default function VerifierPair({\n  guardianType = LoginType.email,\n  size = 32,\n  verifierSrc,\n  wrapperClassName,\n}: VerifierPairProps) {\n  return (\n    <div className={clsx('flex-row-center icon-pair', wrapperClassName)}>\n      <CustomSvg\n        type={guardianType === LoginType.phone ? ('phone' as any) : 'Email'}\n        style={{ width: size, height: size, fontSize: size }}\n      />\n      <BaseVerifierIcon width={size} height={size} src={verifierSrc} />\n    </div>\n  );\n}\n","import { UserGuardianItem, UserGuardianStatus } from '@portkey/store/store-ca/guardians/type';\nimport { VerifyStatus } from '@portkey/types/verifier';\nimport { Button } from 'antd';\nimport VerifierPair from '../../../VerifierPair';\nimport { useCallback, memo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { setLoading } from '../../../../utils/loading';\nimport clsx from 'clsx';\nimport { LoginStrType } from '@portkey/constants/constants-ca/guardian';\nimport { DefaultChainId } from '@portkey/constants/constants-ca/network';\nimport { OnErrorFunc } from '../../../../types/error';\nimport { errorTip } from '../../../../utils/errorHandler';\nimport { verification } from '../../../config-provider/api';\n\ninterface GuardianItemProps {\n  disabled?: boolean;\n  isExpired?: boolean;\n  serviceUrl: string;\n  item: UserGuardianStatus;\n  isErrorTip?: boolean;\n  onError?: OnErrorFunc;\n  onSend?: (item: UserGuardianItem) => void;\n  onVerifying?: (item: UserGuardianItem) => void;\n}\n\nfunction GuardianItems({\n  disabled,\n  item,\n  isExpired,\n  serviceUrl,\n  isErrorTip,\n  onError,\n  onSend,\n  onVerifying,\n}: GuardianItemProps) {\n  const { t } = useTranslation();\n\n  const SendCode = useCallback(\n    async (item: UserGuardianItem) => {\n      try {\n        setLoading(true);\n        const result = await verification.sendVerificationCode({\n          baseURL: serviceUrl,\n          params: {\n            guardianAccount: item.guardianAccount,\n            type: LoginStrType[item.guardianType],\n            verifierId: item.verifier?.id || '',\n            chainId: DefaultChainId,\n          },\n        });\n        setLoading(false);\n        if (result.verifierSessionId) {\n          onSend?.({\n            ...item,\n            verifierInfo: {\n              sessionId: result.verifierSessionId,\n              endPoint: result.endPoint,\n            },\n          });\n        }\n      } catch (error: any) {\n        console.error(error, 'SendCode error:');\n        setLoading(false);\n        return errorTip(\n          {\n            errorFields: 'GuardianItems',\n            error: error?.error?.message ?? error ?? 'Something error',\n          },\n          isErrorTip,\n          onError,\n        );\n      }\n    },\n    [serviceUrl, onSend, isErrorTip, onError],\n  );\n\n  const verifyingHandler = useCallback(\n    async (item: UserGuardianItem) => {\n      onVerifying?.(item);\n    },\n    [onVerifying],\n  );\n\n  return (\n    <li className={clsx('flex-between-center verifier-item', disabled && 'verifier-item-disabled')}>\n      {item.isLoginAccount && <div className=\"login-icon\">{t('Login Account')}</div>}\n      <div className=\"flex-between-center\">\n        <VerifierPair guardianType={item.guardianType} verifierSrc={item.verifier?.imageUrl} />\n        <span className=\"account-text\">{item.guardianAccount}</span>\n      </div>\n      {isExpired && item.status !== VerifyStatus.Verified ? (\n        <Button className=\"expired\" type=\"text\" disabled>\n          {t('Expired')}\n        </Button>\n      ) : (\n        <>\n          {(!item.status || item.status === VerifyStatus.NotVerified) && (\n            <Button className=\"not-verified\" type=\"primary\" onClick={() => SendCode(item)}>\n              {t('Send')}\n            </Button>\n          )}\n          {item.status === VerifyStatus.Verifying && (\n            <Button type=\"primary\" className=\"verifying\" onClick={() => verifyingHandler(item)}>\n              {t('Verify')}\n            </Button>\n          )}\n          {item.status === VerifyStatus.Verified && (\n            <Button className=\"verified\" type=\"text\" disabled>\n              {t('Confirmed')}\n            </Button>\n          )}\n        </>\n      )}\n    </li>\n  );\n}\n\nexport default memo(GuardianItems);\n","import { Button } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport { useState, useMemo, useEffect } from 'react';\nimport { getApprovalCount } from '@portkey/utils/guardian';\nimport clsx from 'clsx';\nimport { UserGuardianStatus } from '@portkey/store/store-ca/guardians/type';\nimport { VerifyStatus } from '@portkey/types/verifier';\nimport CommonTooltip from '../CommonTooltip/index.component';\nimport GuardianItems from './components/GuardianItems';\nimport { OnErrorFunc } from '../../types/error';\nimport './index.less';\n\nexport interface GuardianListProps {\n  className?: string;\n  guardianList?: UserGuardianStatus[];\n  expiredTime?: number;\n  serviceUrl: string;\n  isErrorTip?: boolean;\n  onError?: OnErrorFunc;\n  onConfirm?: () => void;\n  onSend?: (item: UserGuardianStatus, index: number) => void;\n  onVerifying?: (item: UserGuardianStatus, index: number) => void;\n}\n\nexport default function GuardianList({\n  className,\n  serviceUrl,\n  guardianList = [],\n  expiredTime,\n  isErrorTip,\n  onError,\n  onConfirm,\n  onSend,\n  onVerifying,\n}: GuardianListProps) {\n  const { t } = useTranslation();\n\n  const [isExpired, setIsExpired] = useState<boolean>(false);\n\n  const approvalLength = useMemo(() => {\n    return getApprovalCount(guardianList.length);\n  }, [guardianList.length]);\n\n  const alreadyApprovalLength = useMemo(\n    () => guardianList.filter((item) => item?.status === VerifyStatus.Verified).length,\n    [guardianList],\n  );\n\n  useEffect(() => {\n    if (!expiredTime) return setIsExpired(false);\n    const timeGap = (expiredTime ?? 0) - Date.now();\n    if (timeGap <= 0) return setIsExpired(true);\n\n    const timer = setInterval(() => {\n      const timeGap = (expiredTime ?? 0) - Date.now();\n      if (timeGap <= 0) return setIsExpired(true);\n      setIsExpired(false);\n    }, 1000);\n    return () => {\n      clearInterval(timer);\n    };\n  }, [expiredTime]);\n\n  return (\n    <div className={clsx('guardian-list-wrapper', className)}>\n      <div className=\"guardian-list-content\">\n        <div className=\"guardian-list-title\">{t('Guardian Approval')}</div>\n        <p className=\"guardian-list-description\">{isExpired ? t('Expired') : t('Expire after 1 hour')}</p>\n        <div className=\"flex-between-center approve-count\">\n          <span className=\"flex-row-center\">\n            {t(\"Guardians' approval\")}\n            <CommonTooltip placement=\"top\" title={t('guardianApprovalTip')} />\n          </span>\n          <div>\n            <span className=\"already-approval\">{alreadyApprovalLength}</span>\n            <span className=\"all-approval\">{`/${approvalLength}`}</span>\n          </div>\n        </div>\n        <ul className=\"verifier-content\">\n          {guardianList?.map((item, index) => (\n            <GuardianItems\n              key={item.key}\n              serviceUrl={serviceUrl}\n              disabled={alreadyApprovalLength >= approvalLength && item.status !== VerifyStatus.Verified}\n              isExpired={isExpired}\n              item={item}\n              isErrorTip={isErrorTip}\n              onError={onError}\n              onSend={(res) => onSend?.(res, index)}\n              onVerifying={(res) => onVerifying?.(res, index)}\n            />\n          ))}\n          {!isExpired && (\n            <div className=\"btn-wrap\">\n              <Button\n                type=\"primary\"\n                className=\"recovery-wallet-btn\"\n                disabled={alreadyApprovalLength <= 0 || alreadyApprovalLength !== approvalLength}\n                onClick={onConfirm}>\n                {t('Recover Wallet')}\n              </Button>\n            </div>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","import GuardianListCom, { GuardianListProps } from './index.component';\nimport { BaseConfigProvider } from '../config-provider';\n\nexport default function GuardianList(props: GuardianListProps) {\n  return (\n    <BaseConfigProvider>\n      <GuardianListCom {...props} />\n    </BaseConfigProvider>\n  );\n}\n","import { Input } from 'antd';\nimport { forwardRef, useCallback, useImperativeHandle } from 'react';\nimport clsx from 'clsx';\nimport { useTranslation } from 'react-i18next';\nimport { checkEmail } from '@portkey/utils/check';\nimport { ValidatorHandler } from '../../types';\nimport './index.less';\n\ninterface EmailInputProps {\n  wrapperClassName?: string;\n  error?: string;\n  val?: string;\n  onChange?: (val: string) => void;\n  inputValidator?: ValidatorHandler;\n}\n\nexport interface EmailInputInstance {\n  validateEmail: ValidatorHandler;\n}\n\nconst EmailInput = forwardRef(({ error, val, wrapperClassName, onChange, inputValidator }: EmailInputProps, ref) => {\n  const { t } = useTranslation();\n\n  const validateEmail = useCallback(\n    async (email?: string) => {\n      const checkError = checkEmail(email);\n      if (checkError) throw checkError;\n      await inputValidator?.(email);\n    },\n    [inputValidator],\n  );\n\n  useImperativeHandle(ref, () => ({ validateEmail }));\n\n  return (\n    <div className={clsx('email-input-wrapper', wrapperClassName)}>\n      <div className=\"input-label\">Email</div>\n      <div className=\"input-wrapper\">\n        <Input\n          className=\"login-input\"\n          value={val}\n          placeholder={t('Enter email')}\n          onChange={(e) => {\n            onChange?.(e.target.value);\n          }}\n        />\n        {error && <span className=\"error-text\">{error}</span>}\n      </div>\n    </div>\n  );\n});\n\nexport default EmailInput;\n","import { Button } from 'antd';\nimport { useCallback, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport EmailInput, { EmailInputInstance } from '../EmailInput';\nimport { ValidatorHandler } from '../../types';\nimport './index.less';\n\ninterface EmailTabProps {\n  onSuccess?: (email: string) => void;\n  isTermsChecked?: boolean;\n  inputValidator?: ValidatorHandler;\n}\n\nexport default function EmailTab({ inputValidator, onSuccess }: EmailTabProps) {\n  const [error, setError] = useState<string>();\n  const [val, setVal] = useState<string>();\n  const emailInputInstance = useRef<EmailInputInstance>();\n  const { t } = useTranslation();\n\n  const onSignUp = useCallback(async () => {\n    try {\n      await emailInputInstance?.current?.validateEmail(val);\n      val && onSuccess?.(val);\n    } catch (error: any) {\n      setError(error);\n    }\n  }, [onSuccess, val]);\n\n  return (\n    <div className=\"email-sign-wrapper\">\n      <EmailInput\n        val={val}\n        ref={emailInputInstance}\n        error={error}\n        inputValidator={inputValidator}\n        onChange={(v) => {\n          setError(undefined);\n          setVal(v);\n        }}\n      />\n      <Button className=\"primary-btn\" type=\"primary\" disabled={!val || !!error} onClick={onSignUp}>\n        {t('Sign Up')}\n      </Button>\n    </div>\n  );\n}\n","import React, { useCallback } from 'react';\nimport EmailTab from '../EmailTab';\nimport { useTranslation } from 'react-i18next';\nimport CustomSvg from '../CustomSvg';\nimport './index.less';\n\nexport interface SignUpBaseProps {\n  onBack?: () => void;\n  inputValidator?: (value?: string) => Promise<any>;\n  onSignUp?: (value: string) => void;\n}\n\nexport default function SignUpBase({ onBack, inputValidator, onSignUp }: SignUpBaseProps) {\n  const { t } = useTranslation();\n\n  const _inputValidator = useCallback(async (v?: string) => inputValidator?.(v), [inputValidator]);\n\n  return (\n    <div className=\"sign-ui-card\">\n      <h2 className=\"sign-title\">\n        <CustomSvg type=\"BackLeft\" onClick={onBack} />\n        <span>{t('Sign Up')}</span>\n      </h2>\n      <div className=\"sign-content\">\n        <EmailTab inputValidator={_inputValidator} onSuccess={onSignUp} />\n      </div>\n    </div>\n  );\n}\n","import SignUpBaseCom, { SignUpBaseProps } from './index.component';\nimport { BaseConfigProvider } from '../config-provider';\n\nexport default function LoginBase(props?: SignUpBaseProps) {\n  return (\n    <BaseConfigProvider>\n      <SignUpBaseCom {...props} />\n    </BaseConfigProvider>\n  );\n}\n","import { Button, message } from 'antd';\nimport EmailInput, { EmailInputInstance } from '../EmailInput';\nimport { useCallback, useRef, useState } from 'react';\nimport { setLoading } from '../../utils/loading';\nimport './index.less';\n\nexport interface EmailLoginProps {\n  onLogin?: (value: string) => void;\n  inputValidator?: (value?: string) => Promise<any>;\n}\n\nexport default function EmailLogin({ onLogin, inputValidator }: EmailLoginProps) {\n  const [error, setError] = useState<string>();\n  const [val, setVal] = useState<string | undefined>('');\n  const emailInputInstance = useRef<EmailInputInstance>();\n\n  const onLoginHandler = useCallback(async () => {\n    try {\n      console.log(val, 'val===checkError');\n      setLoading(true);\n      console.log('setLoading', 'val===checkError111');\n      await emailInputInstance?.current?.validateEmail(val);\n      if (!val) throw 'No Account';\n      setLoading(false);\n      onLogin?.(val);\n    } catch (error: any) {\n      setLoading(false);\n      console.error(error, 'error====onLogin');\n      typeof error === 'string' ? setError(error) : message.error(error);\n    }\n  }, [onLogin, val]);\n\n  const _inputValidator = useCallback(async (v?: string) => inputValidator?.(v), [inputValidator]);\n\n  return (\n    <div className=\"email-login-wrapper\">\n      <EmailInput\n        val={val}\n        ref={emailInputInstance}\n        error={error}\n        inputValidator={_inputValidator}\n        onChange={(v) => {\n          setError(undefined);\n          setVal(v);\n        }}\n      />\n      <Button className=\"login-primary-btn\" type=\"primary\" disabled={!val || !!error} onClick={onLoginHandler}>\n        Login\n      </Button>\n    </div>\n  );\n}\n","import { useMemo, useState, useCallback } from 'react';\nimport { Button } from 'antd';\nimport CustomSvg from '../CustomSvg';\nimport EmailLogin from '../EmailLogin';\nimport { CreateWalletType } from '../types';\nimport CommonSelect from '../CommonSelect';\nimport ConfigProvider from '../config-provider';\nimport { NetworkItem } from '@portkey/types/types-ca/network';\nimport './index.less';\n\nexport interface LoginBaseProps {\n  network?: string;\n  networkList?: NetworkItem[];\n  onLogin?: (value: string) => void;\n  inputValidator?: (value?: string) => Promise<any>;\n  onStep?: (value: CreateWalletType) => void;\n  onNetworkChange?: (network: string) => void;\n}\n\nexport default function LoginBase({\n  network,\n  networkList,\n  inputValidator,\n  onLogin,\n  onStep,\n  onNetworkChange,\n}: LoginBaseProps) {\n  const configNetwork = useMemo(() => ConfigProvider.config?.network, []);\n\n  const _networkList = useMemo(() => networkList || configNetwork?.networkList, [configNetwork, networkList]);\n  const _network = useMemo(\n    () => network || configNetwork?.defaultNetwork || _networkList?.[0]?.networkType,\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [_networkList, network],\n  );\n\n  const [currentNetwork, setNetwork] = useState<string | undefined>(_network);\n\n  const selectItems = useMemo(\n    () =>\n      _networkList?.map((item) => ({\n        value: item.networkType,\n        icon: item?.networkIconUrl ? <img src={item?.networkIconUrl} /> : <CustomSvg type=\"Aelf\" />,\n        label: item.name,\n        disabled: !item.isActive,\n      })),\n    [_networkList],\n  );\n\n  const networkChange = useCallback(\n    (value: string) => {\n      setNetwork(value);\n      onNetworkChange?.(value);\n    },\n    [onNetworkChange],\n  );\n\n  return (\n    <div className=\"flex-column login-ui-card\">\n      <div className=\"login-content\">\n        <h2 className=\"login-title\">\n          Login\n          <CustomSvg type=\"QRCode\" onClick={() => onStep?.('LoginByScan')} />\n        </h2>\n        <EmailLogin inputValidator={inputValidator} onLogin={onLogin} />\n        <Button className=\"sign-btn\" onClick={() => onStep?.('SignUp')}>\n          Sign up\n        </Button>\n      </div>\n\n      <div className=\"network-list-wrapper\">\n        <CommonSelect\n          className=\"network-list-select\"\n          placement=\"topLeft\"\n          value={currentNetwork}\n          items={selectItems}\n          onChange={networkChange}\n          style={{ width: 366 }}\n          showArrow={false}\n          getPopupContainer={(triggerNode) => triggerNode.parentElement}\n        />\n      </div>\n    </div>\n  );\n}\n","import { getELFContract } from '@portkey/utils/aelf';\nimport { ContractBasic } from '@portkey/utils/contract';\n\ntype RpcUrl = string;\ntype ContractAddress = string;\n\nclass Contract {\n  viewContract: Record<RpcUrl, Record<ContractAddress, ContractBasic>>;\n  sendContract: Record<RpcUrl, Record<ContractAddress, ContractBasic>>;\n  constructor() {\n    this.viewContract = {};\n    this.sendContract = {};\n  }\n\n  addViewContract = async ({ rpcUrl, address }: { rpcUrl: string; address: string }) => {\n    const contract = await getELFContract(rpcUrl, address);\n    this.viewContract[rpcUrl] = {\n      [address]: contract,\n    };\n    return contract;\n  };\n\n  addSendContract = async ({\n    rpcUrl,\n    address,\n    privateKey,\n  }: {\n    rpcUrl: string;\n    address: string;\n    privateKey: string;\n  }) => {\n    const contract = await getELFContract(rpcUrl, address, privateKey);\n    this.sendContract[rpcUrl] = {\n      [address]: contract,\n    };\n    return contract;\n  };\n\n  getSendContract = async ({\n    rpcUrl,\n    address,\n    privateKey,\n  }: {\n    rpcUrl: string;\n    address: string;\n    privateKey: string;\n  }): Promise<ContractBasic> => {\n    const contract = this.viewContract?.[rpcUrl]?.[address];\n    if (contract) return contract;\n    return await this.addSendContract({\n      rpcUrl,\n      address,\n      privateKey,\n    });\n  };\n\n  getViewContract = async ({ rpcUrl, address }: { rpcUrl: string; address: string }): Promise<ContractBasic> => {\n    let contract = this.viewContract?.[rpcUrl]?.[address];\n    if (contract) return contract;\n    contract = await this.addViewContract({ rpcUrl, address });\n    return contract;\n  };\n}\n\nconst contract = new Contract();\n\nexport default contract;\n","import { ChainType } from '@portkey/types';\nimport { isExtension } from '@portkey/utils';\nimport PortkeyUIError from '../../constants/error';\nimport { SandboxEventService, SandboxEventTypes, SandboxErrorCode } from '@portkey/utils/sandboxService';\nimport contractInit from '../../store/contract';\n\ninterface GetHolderInfoParam {\n  sandboxId?: string;\n  rpcUrl: string;\n  address: string; // contract address\n  chainType: ChainType;\n  paramsOption: {\n    loginGuardianAccount?: string;\n    caHash?: string;\n  };\n}\n\nexport const getHolderInfoOnExtension = async ({\n  sandboxId,\n  rpcUrl,\n  chainType,\n  address,\n  paramsOption,\n}: Omit<GetHolderInfoParam, 'contract'>) => {\n  const resMessage = await SandboxEventService.dispatchAndReceive(\n    SandboxEventTypes.callViewMethod,\n    {\n      rpcUrl,\n      chainType,\n      address,\n      methodName: 'GetHolderInfo',\n      paramsOption,\n    },\n    sandboxId,\n  );\n\n  console.log(resMessage, 'resMessage===GetHolderInfo');\n\n  if (resMessage.code === SandboxErrorCode.error) throw resMessage.message;\n  return resMessage.message;\n};\n\nexport const getHolderInfoOthers = async (params: Omit<GetHolderInfoParam, 'sandboxId'>) => {\n  const contract = await contractInit.getViewContract({\n    rpcUrl: params.rpcUrl,\n    address: params.address,\n  });\n  if (!contract) throw PortkeyUIError.getContractError;\n  // TODO\n  return contract.callViewMethod('GetHolderInfo');\n};\n\nexport const getHolderInfo = async (params: GetHolderInfoParam) => {\n  const extension = isExtension();\n  const { sandboxId } = params;\n  if (extension) {\n    if (!sandboxId) throw PortkeyUIError.sandboxIdRequired;\n    return getHolderInfoOnExtension(params);\n  }\n  // TODO\n  return getHolderInfoOthers(params);\n};\n","import LoginCard from '../LoginBase/index.component';\nimport ScanCard from '../ScanBase/index.component';\nimport SignUpBase from '../SignUpBase/index.component';\nimport { useCallback } from 'react';\nimport { useState, useMemo } from 'react';\nimport type { CreateWalletType, DIDWalletInfo } from '../types';\nimport { NetworkItem } from '@portkey/types/types-ca/network';\nimport ConfigProvider from '../config-provider';\nimport CustomSvg from '../CustomSvg';\nimport clsx from 'clsx';\nimport { useUpdateEffect } from 'react-use';\nimport { getHolderInfo } from '../../utils/sandboxUtil/getHolderInfo';\nimport { ChainInfoType } from '../SignIn/types';\nimport PortkeyUIError from '../../constants/error';\nimport { contractErrorHandler } from '../../utils/errorHandler';\nimport { EmailError } from '@portkey/utils/check';\nimport { OnErrorFunc } from '../../types/error';\nimport './index.less';\n\nexport interface SignUpAndLoginProps {\n  type?: CreateWalletType;\n  chainInfo?: ChainInfoType;\n  sandboxId?: string;\n  privateKey?: string;\n  networkList?: NetworkItem[];\n  defaultNetwork?: string;\n  className?: string;\n  isErrorTip?: boolean;\n  onError?: OnErrorFunc;\n  inputValidator?: (value?: string) => Promise<any>;\n  onSignTypeChange?: (type: CreateWalletType) => void;\n  onSuccess?: (value: string) => void;\n  onFinish?: (walletInfo: DIDWalletInfo) => void;\n  onNetworkChange?: (network: string) => void;\n}\n\nexport default function SignUpAndLoginBaseCom({\n  type,\n  sandboxId,\n  className,\n  chainInfo,\n  privateKey,\n  networkList,\n  defaultNetwork,\n  isErrorTip,\n  onError,\n  onSuccess,\n  onFinish,\n  inputValidator,\n  onSignTypeChange,\n  onNetworkChange,\n}: SignUpAndLoginProps) {\n  const [_type, setType] = useState<CreateWalletType>(type ?? 'Login');\n\n  const _networkList = useMemo(() => networkList || ConfigProvider.config?.network?.networkList, [networkList]);\n\n  const _defaultNetwork = useMemo(\n    () => defaultNetwork || ConfigProvider.config?.network?.defaultNetwork || _networkList?.[0]?.networkType,\n    [_networkList, defaultNetwork],\n  );\n  const [network, setNetwork] = useState<string | undefined>(_defaultNetwork);\n\n  const LoginCardOnStep = useCallback((step: Omit<CreateWalletType, 'Login'>) => setType(step as CreateWalletType), []);\n\n  const networkChange = useCallback(\n    (network: string) => {\n      setNetwork(network);\n      onNetworkChange?.(network);\n    },\n    [onNetworkChange],\n  );\n\n  const currentNetwork = useMemo(\n    () => _networkList?.find((item) => item.networkType === network),\n    [_networkList, network],\n  );\n\n  useUpdateEffect(() => {\n    onSignTypeChange?.(_type);\n  }, [_type, onSignTypeChange]);\n\n  const _inputValidator = useCallback(\n    async (value?: string): Promise<any> => {\n      if (!chainInfo) throw PortkeyUIError.getContractError;\n\n      let isHasAccount = false;\n\n      try {\n        const checkResult = await getHolderInfo({\n          sandboxId,\n          rpcUrl: chainInfo.endPoint,\n          address: chainInfo.contractAddress,\n          chainType: currentNetwork?.walletType || 'aelf',\n          paramsOption: {\n            loginGuardianAccount: value as string,\n          },\n        });\n        console.log(checkResult, 'checkResult===GetHolderInfo');\n        if (checkResult.guardiansInfo?.guardianAccounts?.length > 0) {\n          isHasAccount = true;\n        }\n      } catch (error: any) {\n        console.log(error, 'validateEmail===');\n        if (error?.Error?.Details && error?.Error?.Details?.indexOf('Not found')) {\n          isHasAccount = false;\n        } else if (error?.Error?.Message === 'Invalid signature') {\n          isHasAccount = false;\n        } else {\n          throw contractErrorHandler(error);\n        }\n      }\n\n      if (_type === 'SignUp') {\n        if (isHasAccount) throw EmailError.alreadyRegistered;\n      } else {\n        if (!isHasAccount) throw EmailError.noAccount;\n      }\n\n      return inputValidator?.(value);\n    },\n    [_type, chainInfo, currentNetwork?.walletType, inputValidator, sandboxId],\n  );\n\n  return (\n    <div className={clsx('portkey-card-height signup-login-content', className)}>\n      {_type === 'SignUp' && (\n        <SignUpBase inputValidator={_inputValidator} onBack={() => setType('Login')} onSignUp={onSuccess} />\n      )}\n      {_type === 'LoginByScan' && (\n        <ScanCard\n          chainId={chainInfo?.chainId}\n          privateKey={privateKey}\n          backIcon={<CustomSvg type=\"PC\" />}\n          currentNetwork={currentNetwork}\n          onBack={() => setType('Login')}\n          onFinish={onFinish}\n          isErrorTip={isErrorTip}\n          onError={onError}\n        />\n      )}\n      {_type === 'Login' && (\n        <>\n          <LoginCard\n            network={network}\n            inputValidator={_inputValidator}\n            onStep={LoginCardOnStep}\n            onLogin={onSuccess}\n            onNetworkChange={networkChange}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","import SignUpAndLoginCom, { SignUpAndLoginProps } from './index.component';\nimport { BaseConfigProvider } from '../config-provider';\n\nexport default function LoginBase(props?: SignUpAndLoginProps) {\n  return (\n    <BaseConfigProvider>\n      <SignUpAndLoginCom {...props} />\n    </BaseConfigProvider>\n  );\n}\n","import { Button } from 'antd';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { PasscodeInput } from 'antd-mobile';\nimport { DIGIT_CODE } from '@portkey/constants/misc';\nimport clsx from 'clsx';\nimport VerifierPair from '../VerifierPair';\nimport { VerifierItem } from '@portkey/types/verifier';\nimport { useTranslation } from 'react-i18next';\nimport { errorTip, verifyErrorHandler } from '../../utils/errorHandler';\nimport { LoginType } from '@portkey/types/types-ca/wallet';\nimport { useEffectOnce } from 'react-use';\nimport { setLoading } from '../../utils/loading';\nimport { checkVerificationCode } from '@portkey/api/api-did/utils/verification';\nimport { LoginStrType } from '@portkey/constants/constants-ca/guardian';\nimport { DefaultChainId } from '@portkey/constants/constants-ca/network';\nimport { OnErrorFunc } from '../../types/error';\nimport { verification } from '../config-provider/api';\nimport './index.less';\n\nconst MAX_TIMER = 60;\n\nenum VerificationError {\n  InvalidCode = 'Invalid code',\n  codeExpired = 'The code has expired. Please resend it.',\n}\n\nexport interface CodeVerifyProps {\n  serviceUrl: string;\n  verifier: VerifierItem;\n  className?: string;\n  loginType?: LoginType;\n  isCountdownNow?: boolean;\n  isLoginAccount?: boolean;\n  guardianAccount: string;\n  verifierSessionId: string;\n  isErrorTip?: boolean;\n  onError?: OnErrorFunc;\n  onSuccess?: (res: { verificationDoc: string; signature: string; verifierId: string }) => void;\n}\n\nexport default function CodeVerify({\n  verifier,\n  className,\n  serviceUrl,\n  isErrorTip,\n  isCountdownNow,\n  isLoginAccount,\n  guardianAccount,\n  loginType = LoginType.email,\n  verifierSessionId,\n  onError,\n  onSuccess,\n}: CodeVerifyProps) {\n  const [timer, setTimer] = useState<number>(0);\n  const [pinVal, setPinVal] = useState<string>();\n  const timerRef = useRef<NodeJS.Timer>();\n  const { t } = useTranslation();\n\n  useEffectOnce(() => {\n    isCountdownNow && setTimer(MAX_TIMER);\n  });\n\n  const onFinish = useCallback(\n    async (code: string) => {\n      try {\n        console.log(code);\n        if (code && code.length === 6) {\n          if (!verifierSessionId) throw 'Missing verifierSessionId!!!';\n          setLoading(true);\n\n          const res = await checkVerificationCode({\n            baseUrl: serviceUrl,\n            guardianAccount,\n            verifierSessionId: verifierSessionId,\n            verificationCode: code,\n            verifierId: verifier.id,\n            chainId: DefaultChainId,\n          });\n          setLoading(false);\n\n          if (res.signature) return onSuccess?.({ ...res, verifierId: verifier?.id || '' });\n\n          if (res?.error?.message) {\n            errorTip(\n              {\n                errorFields: 'CodeVerify',\n                error: res.error.message,\n              },\n              isErrorTip,\n              onError,\n            );\n          } else {\n            errorTip(\n              {\n                errorFields: 'CodeVerify',\n                error: VerificationError.InvalidCode,\n              },\n              isErrorTip,\n              onError,\n            );\n          }\n          setPinVal('');\n        }\n      } catch (error: any) {\n        setLoading(false);\n        setPinVal('');\n        const _error = verifyErrorHandler(error);\n        errorTip(\n          {\n            errorFields: 'CodeVerify',\n            error: _error,\n          },\n          isErrorTip,\n          onError,\n        );\n      }\n    },\n\n    [verifierSessionId, serviceUrl, guardianAccount, verifier.id, onSuccess, isErrorTip, onError],\n  );\n\n  const resendCode = useCallback(async () => {\n    try {\n      if (!guardianAccount) throw 'Missing loginGuardianType';\n      if (!LoginStrType[loginType]) throw 'Missing guardiansType';\n      setLoading(true);\n      const res = await verification.sendVerificationCode({\n        baseURL: serviceUrl,\n        params: {\n          guardianAccount,\n          type: LoginStrType[loginType],\n          verifierId: verifier.id,\n          chainId: DefaultChainId,\n        },\n      });\n      setLoading(false);\n      if (res.verifierSessionId) {\n        setTimer(MAX_TIMER);\n      }\n    } catch (error: any) {\n      setLoading(false);\n      console.log(error, 'verifyHandler');\n      const _error = verifyErrorHandler(error);\n      errorTip(\n        {\n          errorFields: 'CodeVerify',\n          error: _error,\n        },\n        isErrorTip,\n        onError,\n      );\n    }\n  }, [guardianAccount, isErrorTip, loginType, onError, serviceUrl, verifier.id]);\n\n  useEffect(() => {\n    if (timer !== MAX_TIMER) return;\n    timerRef.current && clearInterval(timerRef.current);\n    timerRef.current = setInterval(() => {\n      setTimer((t) => {\n        const newTime = t - 1;\n        if (newTime <= 0) {\n          timerRef.current && clearInterval(timerRef.current);\n          timerRef.current = undefined;\n          return 0;\n        }\n        return newTime;\n      });\n    }, 1000);\n  }, [timer]);\n\n  return (\n    <div className={clsx('verifier-account-wrapper', className)}>\n      {isLoginAccount && <div className=\"login-icon\">{t('Login Account')}</div>}\n      <div className=\"flex-row-center login-account-wrapper\">\n        <VerifierPair guardianType={loginType} verifierSrc={verifier.imageUrl} />\n        <span className=\"login-account\">{guardianAccount || ''}</span>\n      </div>\n      <div className=\"send-tip\">\n        {`A ${DIGIT_CODE.length}-digit code was sent to`}\n        <span className=\"account\">{guardianAccount}</span>\n        <br />\n        {`Enter it within ${DIGIT_CODE.expiration} minutes`}\n      </div>\n      <div className=\"password-wrapper\">\n        <PasscodeInput\n          value={pinVal}\n          length={DIGIT_CODE.length}\n          seperated\n          plain\n          onChange={(v) => setPinVal(v)}\n          onFill={onFinish}\n        />\n        <Button\n          type=\"text\"\n          disabled={!!timer}\n          onClick={resendCode}\n          className={clsx('text-center resend-btn', timer && 'resend-after-btn')}>\n          {timer ? `Resend after ${timer}s` : t('Resend')}\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import CodeVerifyCom, { CodeVerifyProps } from './index.component';\nimport { BaseConfigProvider } from '../config-provider';\n\nexport default function CodeVerify(props: CodeVerifyProps) {\n  return (\n    <BaseConfigProvider>\n      <CodeVerifyCom {...props} />\n    </BaseConfigProvider>\n  );\n}\n","import BackHeader from '../../../BackHeader';\nimport CodeVerify, { CodeVerifyProps } from '../../../CodeVerify/index.component';\nimport './index.less';\n\nexport default function VerifierPage({ onBack, ...props }: CodeVerifyProps & { onBack: () => void }) {\n  return (\n    <div className=\"verifier-page-wrapper\">\n      <BackHeader onBack={onBack} />\n      <CodeVerify {...props} />\n    </div>\n  );\n}\n","import { useState, useCallback, ReactNode } from 'react';\nimport clsx from 'clsx';\nimport { BaseGuardianItem, UserGuardianStatus } from '@portkey/store/store-ca/guardians/type';\nimport { VerifierItem, VerifyStatus } from '@portkey/types/verifier';\nimport { LoginType } from '@portkey/types/types-ca/wallet';\nimport GuardianList from '../GuardianList/index.component';\nimport VerifierPage from './components/VerifierPage';\nimport { GuardiansApprovedType } from '@portkey/types/guardian';\nimport { LoginStrType } from '@portkey/constants/constants-ca/guardian';\nimport { OnErrorFunc } from '../../types/error';\nimport { errorTip } from '../../utils/errorHandler';\nimport { useUpdateEffect } from 'react-use';\nimport './index.less';\n\nexport interface GuardianApprovalProps {\n  header?: ReactNode;\n  loginType: LoginType;\n  className?: string;\n  serviceUrl: string;\n  guardianList?: BaseGuardianItem[];\n  isErrorTip?: boolean;\n  onError?: OnErrorFunc;\n  onConfirm?: (guardianList: GuardiansApprovedType[]) => void;\n}\n\nexport default function GuardianApproval({\n  header,\n  loginType = LoginType.email,\n  className,\n  serviceUrl,\n  guardianList = [],\n  isErrorTip,\n  onError,\n  onConfirm,\n}: GuardianApprovalProps) {\n  const [verifyAccountIndex, setVerifyAccountIndex] = useState<number | undefined>();\n  const [_guardianList, setGuardianList] = useState<UserGuardianStatus[]>(guardianList);\n  const [expiredTime, setExpiredTime] = useState<number>();\n\n  useUpdateEffect(() => {\n    !_guardianList.length && guardianList?.length && setGuardianList(guardianList);\n  }, [guardianList, _guardianList]);\n\n  console.log(_guardianList, '_guardianList===');\n\n  const onSendCodeHandler = useCallback(\n    async (item: UserGuardianStatus, index: number) => {\n      try {\n        if (!expiredTime) setExpiredTime(Date.now());\n\n        setVerifyAccountIndex(index);\n        setGuardianList((v) => {\n          v[index] = {\n            ...item,\n            status: VerifyStatus.Verifying,\n            isInitStatus: true,\n          };\n\n          return v;\n        });\n      } catch (error: any) {\n        console.log(error, 'error===');\n        return errorTip(\n          {\n            errorFields: 'GuardianApproval',\n            error: error?.error?.message ?? error?.type ?? 'Something error',\n          },\n          isErrorTip,\n          onError,\n        );\n      }\n    },\n    [expiredTime, isErrorTip, onError],\n  );\n\n  const onVerifyingHandler = useCallback(\n    async (_item: UserGuardianStatus, index: number) => {\n      try {\n        setVerifyAccountIndex(index);\n        setGuardianList((v) => {\n          v[index].isInitStatus = false;\n          return v;\n        });\n      } catch (error: any) {\n        console.log(error, 'error===');\n        return errorTip(\n          {\n            errorFields: 'GuardianApproval',\n            error: error?.error?.message ?? error?.type ?? 'Something error',\n          },\n          isErrorTip,\n          onError,\n        );\n      }\n    },\n    [isErrorTip, onError],\n  );\n\n  const onCodeVerifyHandler = useCallback(\n    (res: { verificationDoc: string; signature: string; verifierId: string }, index: number) => {\n      setGuardianList((v) => {\n        v[index] = {\n          ...v[index],\n          status: VerifyStatus.Verified,\n          verificationDoc: res.verificationDoc,\n          signature: res.signature,\n        };\n        return v;\n      });\n      setVerifyAccountIndex(undefined);\n    },\n    [],\n  );\n\n  const onConfirmHandler = useCallback(() => {\n    const verificationList = _guardianList.map((item) => ({\n      type: LoginStrType[item.guardianType],\n      value: item.guardianAccount,\n      verifierId: item.verifier?.id || '',\n      verificationDoc: item.verificationDoc || '',\n      signature: item.signature || '',\n    }));\n    onConfirm?.(verificationList);\n  }, [_guardianList, onConfirm]);\n\n  return (\n    <div className={clsx('ui-guardian-approval-wrapper', className)}>\n      {typeof verifyAccountIndex === 'number' ? (\n        <VerifierPage\n          onBack={() => setVerifyAccountIndex(undefined)}\n          serviceUrl={serviceUrl}\n          guardianAccount={_guardianList[verifyAccountIndex].guardianAccount || ''}\n          verifierSessionId={_guardianList[verifyAccountIndex].verifierInfo?.sessionId || ''}\n          isLoginAccount={_guardianList[verifyAccountIndex].isLoginAccount}\n          isCountdownNow={_guardianList[verifyAccountIndex].isInitStatus}\n          loginType={loginType}\n          isErrorTip={isErrorTip}\n          verifier={_guardianList[verifyAccountIndex].verifier as VerifierItem}\n          onSuccess={(res) => onCodeVerifyHandler(res, verifyAccountIndex)}\n          onError={onError}\n        />\n      ) : (\n        <>\n          {header}\n          <GuardianList\n            expiredTime={expiredTime}\n            serviceUrl={serviceUrl}\n            guardianList={_guardianList}\n            isErrorTip={isErrorTip}\n            onSend={onSendCodeHandler}\n            onVerifying={onVerifyingHandler}\n            onConfirm={onConfirmHandler}\n            onError={onError}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","import GuardianApprovalCom, { GuardianApprovalProps } from './index.component';\nimport { BaseConfigProvider } from '../config-provider';\n\nexport default function GuardianApproval(props: GuardianApprovalProps) {\n  return (\n    <BaseConfigProvider>\n      <GuardianApprovalCom {...props} />\n    </BaseConfigProvider>\n  );\n}\n","import { Modal, ModalProps } from 'antd';\nimport clsx from 'clsx';\nimport './index.less';\n\nexport default function BaseModal(props: ModalProps) {\n  const { transitionName } = props;\n  return (\n    <Modal\n      closable={false}\n      centered\n      destroyOnClose\n      title={null}\n      footer={null}\n      maskStyle={{ backgroundColor: 'rgba(0, 0, 0, 0.3)' }}\n      {...props}\n      width={430}\n      className={clsx('portkey-ui-base-modal', props.className)}\n      transitionName={transitionName}\n    />\n  );\n}\n","import SignUpAndLogin, { SignUpAndLoginProps } from '../../../SignUpAndLogin/index.component';\nimport { useCallback, useState, memo } from 'react';\nimport { CreateWalletType, DIDWalletInfo } from '../../../types';\nimport { Button } from 'antd';\n\nexport type OnSignInFinishedFun = (values: {\n  isFinished: boolean;\n  result: {\n    type?: CreateWalletType;\n    value: string | DIDWalletInfo;\n  };\n}) => void;\n\ninterface Step1Props extends SignUpAndLoginProps {\n  onSignInFinished: OnSignInFinishedFun;\n}\n\nfunction Step1({ onSignInFinished, ...props }: Step1Props) {\n  const [createType, setCreateType] = useState<CreateWalletType>('Login');\n\n  const onSuccess = useCallback(\n    (value: string) => {\n      onSignInFinished?.({\n        isFinished: false,\n        result: {\n          type: createType,\n          value,\n        },\n      });\n    },\n    [createType, onSignInFinished],\n  );\n\n  const _onFinish = useCallback(\n    (walletInfo: any) => {\n      onSignInFinished?.({\n        isFinished: true,\n        result: {\n          value: walletInfo,\n        },\n      });\n    },\n    [onSignInFinished],\n  );\n\n  return (\n    <>\n      <SignUpAndLogin\n        {...props}\n        onSignTypeChange={(type) => setCreateType(type)}\n        onSuccess={onSuccess}\n        onFinish={_onFinish}\n      />\n      <Button\n        onClick={() =>\n          onSignInFinished?.({\n            isFinished: false,\n            result: {\n              type: 'SignUp',\n              value: '111.com',\n            },\n          })\n        }>\n        test btn SignUp\n      </Button>\n      <Button\n        onClick={() =>\n          onSignInFinished?.({\n            isFinished: false,\n            result: {\n              type: 'Login',\n              value: '111.com',\n            },\n          })\n        }>\n        test btn Login\n      </Button>\n    </>\n  );\n}\nexport default memo(Step1);\n","import { LoginType } from '@portkey/types/types-ca/wallet';\nimport { VerifierItem } from '@portkey/types/verifier';\nimport { useState, useCallback, memo } from 'react';\nimport VerifierSelect from '../../../VerifierSelect/index.component';\nimport CodeVerify from '../../../CodeVerify/index.component';\nimport { IVerifyInfo } from '../../../types/verify';\nimport BackHeader from '../../../BackHeader';\nimport { Button } from 'antd';\nimport { OnErrorFunc } from '../../../../types/error';\n\ntype SetSignUpStepType = 'verifierSelect' | 'verifyAccount';\n\ninterface Step2WithSignUpProps {\n  loginType: LoginType;\n  verifierList?: VerifierItem[];\n  guardianAccount: string;\n  serviceUrl: string;\n  isErrorTip?: boolean;\n  onCancel?: () => void;\n  onFinish?: (values: { verifier: VerifierItem } & IVerifyInfo) => void;\n  onError?: OnErrorFunc;\n}\n\ninterface ISendCodeInfo {\n  endPoint: string;\n  verifierSessionId: string;\n  verifier: VerifierItem;\n}\n\nfunction Step2WithSignUp({\n  loginType,\n  serviceUrl,\n  isErrorTip,\n  verifierList,\n  guardianAccount,\n  onFinish,\n  onCancel,\n  onError,\n}: Step2WithSignUpProps) {\n  const [signUpStep, setSignUpStep] = useState<SetSignUpStepType>('verifierSelect');\n  const [sendCodeInfo, setSendCodeInfo] = useState<ISendCodeInfo>();\n\n  const onVerifierSelectConfirm = useCallback((info: ISendCodeInfo) => {\n    setSendCodeInfo(info);\n    setSignUpStep('verifyAccount');\n  }, []);\n\n  const onCodeVerifySuccess = useCallback(\n    (res: IVerifyInfo) => {\n      if (!sendCodeInfo?.verifier) throw 'No verifier Info';\n      onFinish?.({\n        verifier: sendCodeInfo.verifier,\n        ...res,\n      });\n    },\n    [onFinish, sendCodeInfo],\n  );\n\n  const onBackHandler = useCallback(() => {\n    if (signUpStep === 'verifyAccount') {\n      setSignUpStep('verifierSelect');\n    } else {\n      onCancel?.();\n    }\n  }, [onCancel, signUpStep]);\n\n  return (\n    <div className=\"step-page-wrapper\">\n      <BackHeader onBack={onBackHandler} />\n      {signUpStep === 'verifierSelect' && (\n        <VerifierSelect\n          className=\"content-padding\"\n          guardianAccount={guardianAccount}\n          serviceUrl={serviceUrl}\n          verifierList={verifierList}\n          isErrorTip={isErrorTip}\n          onError={onError}\n          onConfirm={onVerifierSelectConfirm}\n        />\n      )}\n      {signUpStep === 'verifyAccount' && sendCodeInfo ? (\n        <CodeVerify\n          className=\"content-padding\"\n          guardianAccount={guardianAccount}\n          serviceUrl={serviceUrl}\n          verifier={sendCodeInfo.verifier}\n          loginType={loginType}\n          isCountdownNow={true}\n          isLoginAccount={true}\n          verifierSessionId={sendCodeInfo.verifierSessionId}\n          isErrorTip={isErrorTip}\n          onError={onError}\n          onSuccess={onCodeVerifySuccess}\n        />\n      ) : (\n        signUpStep === 'verifyAccount' && 'Missing sendCodeInfo'\n      )}\n\n      <Button\n        onClick={() =>\n          onFinish?.({\n            verifier: {\n              id: 'string', // aelf.Hash\n              name: 'string',\n              imageUrl: 'string',\n              endPoints: [''],\n              verifierAddresses: [''],\n            },\n            verificationDoc: 'string',\n            signature: 'string',\n          })\n        }>\n        test btn\n      </Button>\n    </div>\n  );\n}\nexport default memo(Step2WithSignUp);\n","import { GUARDIAN_TYPE_TYPE } from '@portkey/constants/constants-ca/guardian';\nimport { BaseGuardianItem } from '@portkey/store/store-ca/guardians/type';\nimport { ChainType } from '@portkey/types';\nimport { GuardianAccount, GuardiansApprovedType, GuardiansInfo } from '@portkey/types/guardian';\nimport { LoginType } from '@portkey/types/types-ca/wallet';\nimport { VerifierItem, VerifyStatus } from '@portkey/types/verifier';\nimport { Button } from 'antd';\nimport { memo, useMemo, useState, useEffect, useCallback } from 'react';\nimport { OnErrorFunc } from '../../../../types/error';\nimport { contractErrorHandler, errorTip } from '../../../../utils/errorHandler';\nimport { getHolderInfo } from '../../../../utils/sandboxUtil/getHolderInfo';\nimport BackHeader from '../../../BackHeader';\nimport GuardianApproval from '../../../GuardianApproval/index.component';\nimport { ChainInfoType } from '../../types';\nimport './index.less';\n\ninterface Step2WithSignInProps {\n  sandboxId?: string;\n  loginType: LoginType;\n  serviceUrl: string;\n  chainInfo?: ChainInfoType;\n  chainType?: ChainType;\n  isErrorTip?: boolean;\n  guardianList?: BaseGuardianItem[];\n  guardianAccount: string;\n  verifierList?: VerifierItem[];\n  approvedList?: GuardiansApprovedType[];\n  onFinish?: (guardianList: GuardiansApprovedType[]) => void;\n  onCancel?: () => void;\n  onError?: OnErrorFunc;\n}\n\nfunction Step2WithSignIn({\n  sandboxId,\n  loginType,\n  serviceUrl,\n  chainInfo,\n  chainType,\n  isErrorTip,\n  verifierList,\n  approvedList,\n  guardianAccount,\n  onFinish,\n  onCancel,\n  onError,\n}: Step2WithSignInProps) {\n  const [guardianList, setGuardianList] = useState<BaseGuardianItem[] | undefined>();\n\n  const getGuardianList = useCallback(async () => {\n    try {\n      //\n      if (!chainInfo) return;\n      const verifierMap: { [x: string]: VerifierItem } = {};\n      verifierList?.forEach((item) => {\n        verifierMap[item.id] = item;\n      });\n\n      const payload = await getHolderInfo({\n        sandboxId,\n        rpcUrl: chainInfo.endPoint,\n        address: chainInfo.contractAddress,\n        chainType: chainType || 'aelf',\n        paramsOption: {\n          loginGuardianAccount: guardianAccount as string,\n        },\n      });\n      const { loginGuardianAccountIndexes, guardianAccounts } = payload?.guardiansInfo as GuardiansInfo;\n      const _guardianAccounts: (GuardianAccount & { isLoginAccount?: boolean })[] = [...guardianAccounts];\n      loginGuardianAccountIndexes.forEach((item) => {\n        _guardianAccounts[item].isLoginAccount = true;\n      });\n\n      const guardiansList = _guardianAccounts.map((_guardianAccount) => {\n        const guardianAccount = _guardianAccount.value;\n        const verifier = verifierMap?.[_guardianAccount.guardian.verifier.id];\n        const guardianType: LoginType = (\n          typeof _guardianAccount.guardian.type === 'string'\n            ? GUARDIAN_TYPE_TYPE[_guardianAccount.guardian.type]\n            : _guardianAccount.guardian.type\n        ) as any;\n\n        const _guardian: BaseGuardianItem = {\n          key: `${guardianAccount}&${verifier?.id}`,\n          isLoginAccount: _guardianAccount.isLoginAccount,\n          verifier: verifier,\n          guardianAccount,\n          guardianType,\n        };\n        return _guardian;\n      });\n\n      setGuardianList(guardiansList);\n    } catch (error) {\n      //\n\n      console.log(error, 'error===GuardianApproval');\n\n      errorTip(\n        {\n          errorFields: 'GuardianApproval',\n          error: contractErrorHandler(error),\n        },\n        isErrorTip,\n        onError,\n      );\n    }\n  }, [chainInfo, chainType, guardianAccount, isErrorTip, onError, sandboxId, verifierList]);\n\n  useEffect(() => {\n    getGuardianList();\n  }, [getGuardianList]);\n\n  const _guardianList = useMemo(() => {\n    if (!approvedList) return guardianList;\n    const approvedMap: { [x: string]: GuardiansApprovedType } = {};\n    approvedList.forEach((item) => {\n      approvedMap[`${item.value}&${item.verifierId}`] = item;\n    });\n    return guardianList?.map((guardian) => {\n      const approvedItem = approvedMap[`${guardian.guardianAccount}&${guardian.verifier?.id}`];\n      if (approvedItem)\n        return {\n          ...guardian,\n          status: VerifyStatus.Verified,\n          verificationDoc: approvedItem.verificationDoc,\n          signature: approvedItem.signature,\n        };\n      return guardian;\n    });\n  }, [approvedList, guardianList]);\n\n  console.log(guardianList, _guardianList, 'guardianList===');\n\n  return (\n    <div className=\"step-page-wrapper step2-sign-in-wrapper\">\n      <GuardianApproval\n        header={<BackHeader onBack={onCancel} />}\n        loginType={loginType}\n        serviceUrl={serviceUrl}\n        guardianList={_guardianList}\n        isErrorTip={isErrorTip}\n        onConfirm={onFinish}\n        onError={onError}\n      />\n      {/* TODO */}\n      <Button\n        onClick={() =>\n          onFinish?.([\n            { type: 'Email', value: 'string', verifierId: 'string', verificationDoc: 'string', signature: 'string' },\n          ])\n        }>\n        test btn\n      </Button>\n    </div>\n  );\n}\n\nexport default memo(Step2WithSignIn);\n","import { Button } from 'antd';\nimport BackHeader from '../../../BackHeader';\nimport CommonModal from '../../../CommonModal';\nimport { memo, useCallback, useState } from 'react';\nimport { VerificationType } from '@portkey/types/verifier';\nimport SetPinAndAddManagerCom, { SetPinAndAddManagerProps } from '../../../SetPinAndAddManager/index.component';\nimport './index.less';\n\ninterface Step3Props extends SetPinAndAddManagerProps {\n  onCancel?: () => void;\n}\n\nfunction Step3({\n  serviceUrl,\n  chainId,\n  loginType,\n  guardianAccount,\n  verificationType,\n  guardianApprovedList = [],\n  onFinish,\n  onCancel,\n}: Step3Props) {\n  const [returnOpen, setReturnOpen] = useState<boolean>(false);\n\n  const onBackHandler = useCallback(() => {\n    if (verificationType === VerificationType.register) {\n      setReturnOpen(true);\n    } else {\n      onCancel?.();\n    }\n  }, [onCancel, verificationType]);\n\n  return (\n    <div className=\"step-page-wrapper\">\n      <BackHeader onBack={onBackHandler} />\n      <SetPinAndAddManagerCom\n        className=\"content-padding\"\n        serviceUrl={serviceUrl}\n        chainId={chainId}\n        loginType={loginType}\n        guardianAccount={guardianAccount}\n        verificationType={verificationType}\n        guardianApprovedList={guardianApprovedList}\n        onFinish={onFinish}\n      />\n      <CommonModal\n        closable={false}\n        open={returnOpen}\n        className=\"confirm-return-modal\"\n        title={'Leave this page?'}\n        width={320}\n        getContainer={'#set-pin-wrapper'}>\n        <p className=\"modal-content\">Are you sure you want to leave this page? All changes will not be saved.</p>\n        <div className=\"btn-wrapper\">\n          <Button onClick={() => setReturnOpen(false)}>No</Button>\n          <Button type=\"primary\" onClick={onCancel}>\n            Yes\n          </Button>\n        </div>\n      </CommonModal>\n    </div>\n  );\n}\n\nexport default memo(Step3);\n","import { request } from '@portkey/api/api-did';\nimport { useEffect, useState, useCallback } from 'react';\nimport { ChainInfoType } from '../components/SignIn/types';\nimport { OnErrorFunc } from '../types/error';\n\ninterface ChainInfoParams {\n  baseUrl?: string;\n  chainId: string;\n  chainInfo?: ChainInfoType;\n}\n\nconst useChainInfo = ({ baseUrl, chainInfo, chainId = 'AELF' }: ChainInfoParams, onError?: OnErrorFunc) => {\n  const [_chainInfo, setChainInfo] = useState<ChainInfoType | undefined>(chainInfo);\n  const getChainList = useCallback(\n    async ({ baseUrl }: { baseUrl?: string }) => {\n      try {\n        if (chainInfo) return;\n        const response = await request.es.getChainsInfo({ baseURL: baseUrl });\n        if (response && response?.items?.length) {\n          const chain = response.items.find((item: any) => item.chainId === chainId);\n          setChainInfo({\n            ...chain,\n            contractAddress: chain.caContractAddress,\n          });\n        }\n      } catch (error: any) {\n        if (error?.type) return onError?.({ errorFields: 'getChainList', error: error.type });\n        if (error?.error?.message) return onError?.({ errorFields: 'getChainList', error: error.error.message });\n        return onError?.({ errorFields: 'getChainList', error });\n      }\n    },\n    [chainId, chainInfo, onError],\n  );\n\n  useEffect(() => {\n    getChainList({ baseUrl });\n  }, [baseUrl, getChainList]);\n\n  console.log(chainInfo, '_chainInfo===22213');\n\n  return _chainInfo;\n};\n\nexport default useChainInfo;\n","import { ChainType } from '@portkey/types';\nimport { SandboxErrorCode, SandboxEventService, SandboxEventTypes } from '@portkey/utils/sandboxService';\nimport { isExtension } from '..';\nimport PortkeyUIError from '../../constants/error';\nimport { contractErrorHandler } from '../errorHandler';\nimport contractInit from '../../store/contract';\n\ninterface VerifierListParams {\n  sandboxId?: string;\n  rpcUrl: string;\n  address: string;\n  chainType: ChainType;\n}\n\nexport const getVerifierListOnExtension = async ({\n  sandboxId,\n  rpcUrl,\n  chainType,\n  address, // contract address\n}: Omit<VerifierListParams, 'contract'>) => {\n  const resMessage = await SandboxEventService.dispatchAndReceive(\n    SandboxEventTypes.callViewMethod,\n    {\n      rpcUrl,\n      chainType,\n      address,\n      methodName: 'GetVerifierServers',\n    },\n    sandboxId,\n  );\n\n  if (resMessage.code === SandboxErrorCode.error) throw contractErrorHandler(resMessage.message);\n  const verifierList = resMessage.message?.verifierServers;\n  return verifierList;\n};\n\nexport const getVerifierListOthers = async (params: Omit<VerifierListParams, 'sandboxId'>) => {\n  const contract = await contractInit.getViewContract({\n    rpcUrl: params.rpcUrl,\n    address: params.address,\n  });\n  if (!contract) throw PortkeyUIError.getContractError;\n  // TODO Need to deal result\n  return contract.callViewMethod('GetVerifierServers');\n};\n\nexport const getVerifierList = (params: VerifierListParams) => {\n  const extension = isExtension();\n  const { sandboxId } = params;\n  if (extension) {\n    if (!sandboxId) throw PortkeyUIError.sandboxIdRequired;\n    return getVerifierListOnExtension(params);\n  }\n  // TODO\n  return getVerifierListOthers(params);\n};\n","import { LoginType } from '@portkey/types/types-ca/wallet';\n\nconst initState = {\n  network: 'TESTNET',\n  loginType: LoginType.email,\n};\n\ninterface GlobalState {\n  network: string;\n  loginType: LoginType;\n}\n\nclass Global {\n  state: GlobalState;\n\n  constructor(state: GlobalState = initState) {\n    this.state = state;\n  }\n\n  getState = (key: keyof GlobalState) => {\n    return this.state?.[key];\n  };\n\n  setState = (key: keyof GlobalState, value: GlobalState[keyof GlobalState]) => {\n    // if (this.state[key]) return (this.state[key] = value);\n    this.state = {\n      ...this.state,\n      [key]: value,\n    };\n  };\n}\n\nexport const globalState = new Global();\n","/**\n * @file\n *\n * First you have to configure networkList using ConfigProvider.setGlobalConfig\n */\n\nimport BaseModal from './components/BaseModal';\nimport { useState, useCallback, useEffect, useMemo } from 'react';\nimport ConfigProvider, { BaseConfigProvider } from '../config-provider';\nimport Step1, { OnSignInFinishedFun } from './components/Step1';\nimport { ModalProps } from 'antd';\nimport { DIDWalletInfo } from '../types';\nimport Step2WithSignUp from './components/Step2WithSignUp';\nimport Step2WithSignIn from './components/Step2WithSignIn';\nimport { VerifierItem, VerificationType } from '@portkey/types/verifier';\nimport { IVerifyInfo } from '../types/verify';\nimport Step3 from './components/Step3';\nimport { GuardiansApprovedType } from '@portkey/types/guardian';\nimport { useEffectOnce, usePrevious } from 'react-use';\nimport { LoginType } from '@portkey/types/types-ca/wallet';\nimport { LoginStrType } from '@portkey/constants/constants-ca/guardian';\nimport { ChainInfoType } from './types';\nimport useChainInfo from '../../hooks/useChainInfo';\nimport { getVerifierList } from '../../utils/sandboxUtil/getVerifierList';\nimport { OnErrorFunc } from '../../types/error';\nimport './index.less';\nimport { globalState } from './store';\n\ntype SIGN_IN_STEP = 'SignIn' | 'Step2WithSignUp' | 'Step2WithSignIn' | 'Step3';\n\nexport interface SignInProps {\n  //\n  chainId?: string;\n  chainInfo?: ChainInfoType;\n  loginType?: LoginType;\n\n  sandboxId?: string;\n  isErrorTip?: boolean;\n\n  // Login\n  inputValidator?: (value?: string) => Promise<any>;\n  onNetworkChange?: (network: string) => void;\n\n  onFinish?: (didWallet: DIDWalletInfo) => void;\n\n  // Modal config\n  open?: boolean;\n  className?: string;\n  getContainer?: ModalProps['getContainer'];\n  onCancel?: () => void;\n  onError?: OnErrorFunc;\n}\n\ntype TSignUpVerifier = { verifier: VerifierItem } & IVerifyInfo;\n\nexport default function SignIn({\n  chainId = 'AELF',\n  chainInfo,\n  loginType = LoginType.email,\n  isErrorTip = true,\n  sandboxId,\n\n  inputValidator,\n  open,\n  className,\n  getContainer,\n  onNetworkChange,\n  onCancel,\n  onFinish,\n  onError,\n}: SignInProps) {\n  const [_step, setStep] = useState<SIGN_IN_STEP>('SignIn');\n  const [guardianAccount, setGuardianAccount] = useState<string>();\n\n  const _networkList = useMemo(() => ConfigProvider.config?.network?.networkList, []);\n\n  const _defaultNetwork = useMemo(\n    () => ConfigProvider.config?.network?.defaultNetwork || _networkList?.[0]?.networkType,\n    [_networkList],\n  );\n  const [_network, setNetwork] = useState<string | undefined>(_defaultNetwork);\n\n  const networkItem = useMemo(\n    () => _networkList?.find((network) => network.networkType === _network),\n    [_network, _networkList],\n  );\n\n  const _chainInfo = useChainInfo({ baseUrl: networkItem?.apiUrl, chainInfo, chainId }, onError);\n\n  const serviceUrl = useMemo(() => networkItem?.apiUrl || '', [networkItem?.apiUrl]);\n\n  const preStep = usePrevious(_step);\n\n  const [approvedList, setApprovedList] = useState<GuardiansApprovedType[]>();\n\n  const onSignInFinished: OnSignInFinishedFun = useCallback(\n    (result) => {\n      const { type, value } = result.result;\n      if (result.isFinished) {\n        // Sign in by scan\n        onFinish?.(value as DIDWalletInfo);\n      } else {\n        if (type === 'SignUp') {\n          setStep('Step2WithSignUp');\n        } else {\n          setStep('Step2WithSignIn');\n        }\n        setGuardianAccount(value as string);\n      }\n    },\n    [onFinish],\n  );\n\n  const onStep2WithSignUpFinish = useCallback(\n    (res: TSignUpVerifier) => {\n      if (!guardianAccount) return console.error('No guardianAccount!');\n      const list = [\n        {\n          type: LoginStrType[loginType],\n          value: guardianAccount,\n          verifierId: res.verifier.id,\n          verificationDoc: res.verificationDoc,\n          signature: res.signature,\n        },\n      ];\n      setApprovedList(list);\n      setStep('Step3');\n    },\n    [guardianAccount, loginType],\n  );\n\n  const onStep2Cancel = useCallback(() => {\n    setStep('SignIn');\n    setApprovedList(undefined);\n  }, []);\n\n  const onStep3Cancel = useCallback(() => {\n    if (preStep === 'Step2WithSignUp') {\n      setStep('Step2WithSignUp');\n      setApprovedList(undefined);\n    } else if (preStep === 'Step2WithSignIn') {\n      setStep('Step2WithSignIn');\n    }\n  }, [preStep]);\n\n  useEffectOnce(() => {\n    _defaultNetwork && globalState.setState('network', _defaultNetwork);\n  });\n\n  const _onNetworkChange = useCallback(\n    (network: string) => {\n      ConfigProvider.setGlobalConfig({ network: { defaultNetwork: network } });\n      setNetwork(network);\n      globalState.setState('network', network);\n      onNetworkChange?.(network);\n    },\n    [onNetworkChange],\n  );\n\n  console.log(_chainInfo, '_chainInfo===');\n\n  const [verifierList, setVerifierList] = useState<VerifierItem[]>();\n\n  const getVerifierListHandler = useCallback(async () => {\n    try {\n      if (!_chainInfo) return;\n\n      const list = await getVerifierList({\n        sandboxId,\n        rpcUrl: _chainInfo.endPoint,\n        chainType: networkItem?.walletType ?? 'aelf',\n        address: _chainInfo.contractAddress,\n      });\n      setVerifierList(list);\n    } catch (error) {\n      onError?.({\n        errorFields: 'VerifierList',\n        error: error,\n      });\n    }\n  }, [_chainInfo, networkItem?.walletType, onError, sandboxId]);\n\n  useEffect(() => {\n    getVerifierListHandler();\n  }, [getVerifierListHandler]);\n\n  return (\n    <BaseConfigProvider>\n      <BaseModal className={className} open={open} getContainer={getContainer} onCancel={onCancel}>\n        {_step === 'SignIn' && (\n          <Step1\n            sandboxId={sandboxId}\n            chainInfo={_chainInfo}\n            defaultNetwork={_defaultNetwork}\n            networkList={_networkList}\n            isErrorTip={isErrorTip}\n            onError={onError}\n            inputValidator={inputValidator}\n            onSignInFinished={onSignInFinished}\n            onNetworkChange={_onNetworkChange}\n          />\n        )}\n\n        {_step === 'Step2WithSignUp' && (\n          <Step2WithSignUp\n            loginType={loginType}\n            guardianAccount={guardianAccount || ''}\n            serviceUrl={serviceUrl}\n            verifierList={verifierList}\n            isErrorTip={isErrorTip}\n            onError={onError}\n            onFinish={onStep2WithSignUpFinish}\n            onCancel={onStep2Cancel}\n          />\n        )}\n        {_step === 'Step2WithSignIn' && (\n          <Step2WithSignIn\n            sandboxId={sandboxId}\n            approvedList={approvedList}\n            loginType={loginType}\n            serviceUrl={serviceUrl}\n            chainInfo={_chainInfo}\n            verifierList={verifierList}\n            chainType={networkItem?.walletType}\n            guardianAccount={guardianAccount || ''}\n            isErrorTip={isErrorTip}\n            onError={onError}\n            onFinish={(list) => {\n              setApprovedList(list);\n              setStep('Step3');\n            }}\n            onCancel={onStep2Cancel}\n          />\n        )}\n\n        {_step === 'Step3' && (\n          <Step3\n            serviceUrl={serviceUrl}\n            chainId={_chainInfo?.chainId}\n            loginType={loginType}\n            guardianAccount={guardianAccount || ''}\n            verificationType={\n              preStep === 'Step2WithSignUp' ? VerificationType.register : VerificationType.communityRecovery\n            }\n            guardianApprovedList={approvedList || []}\n            onFinish={onFinish}\n            onCancel={onStep3Cancel}\n          />\n        )}\n      </BaseModal>\n    </BaseConfigProvider>\n  );\n}\n"],"names":["useIntervalQueryCAInfoByAddress","uri","address","chainId","info","setInfo","useState","caInfo","useMemo","useInterval","caHolderManagerInfo","contractQueries","caAddress","caHash","loginGuardianAccountInfo","LoginType","VerificationType","error","ScanCard","qrData","backIcon","isShowIcon","onBack","jsxs","jsx","QRCode","r$1","CustomSvg","type","className","props","clsx","svgsList","TitleWrapper","title","leftElement","rightElement","leftCallBack","Row","Col","BackHeader","defaultLeftEle","Password","Input","CustomPassword","maxLength","placeholder","iconRender","defaultIconRender","useCallback","visible","FormItem","Form","ConfirmPassword","validateFields","value","onChange","isPasswordLengthTipShow","label","t","useTranslation","password","setPassword","confirmPassword","setConfirmPassword","createValidate","setCreateValidate","useEffect","Fragment","_","PinErrorMessage","isValidPassword","e","SetPinBase","onFinish","onFinishFailed","form","pin","Button","errors","SetPin","verifyErrorHandler","_error","contractErrorHandler","errorTip","errorInfo","isShowTip","onError","message","DEVICE_TYPE","agent","DeviceType","ScanBase","isErrorTip","privateKey","currentNetwork","step","setStep","newWallet","setNewWallet","caWallet","generateKeystore","wallet","key","handlePrivateKey","isPrivateKey","getAccountByPrivateKey","AElf","useEffectOnce","timer","data","onFinishHandler","WalletError","defaultConfig","NetworkList","n$4","config","_config","network","localConfigProvider","LocalConfigProvider","Loading","eventBus","EventEmitter","isExtension","SET_GLOBAL_LOADING","ScreenLoading","isLoading","setLoading","setLoadingHandler","o$5","BaseAsyncStorage","ErrorTip","store","verification","Verification","configVerification","BaseConfigProvider","children","ConfigProvider","_BaseConfigProvider","ScanBaseCom","CommonModal","width","transitionName","Modal","LeftOutlined","defaultFallback","BaseVerifierIcon","fallback","rootClassName","Image","CommonSelect","items","selectOptions","item","Select","triggerNode","loading","VerifierSelect","serviceUrl","verifierList","guardianAccount","loginType","defaultVerifier","onConfirm","open","setOpen","selectItems","_defaultVerifier","handleChange","setSelectVal","selectVal","useUpdateEffect","v","selectItem","verifyHandler","result","LoginStrType","DefaultChainId","VerifierSelectCom","useFetchDidWalletInfo","baseURL","sessionId","verificationType","walletResult","getWalletCAAddressByApi","SetPinAndAddManager","walletName","guardianApprovedList","onAddManager","getWalletCAAddressResult","requestRegisterDIDWallet","managerAddress","requestId","randomId","registerVerifier","registerDIDWallet","requestRecoveryDIDWallet","recoveryDIDWallet","onCreate","values","formatWallet","formatWalletInfo","walletInfo","sessionInfo","managerInfo","walletError","isWalletError","err","SetPinAndAddManagerCom","CommonTooltip","Tooltip","VerifierPair","guardianType","size","verifierSrc","wrapperClassName","GuardianItems","disabled","isExpired","onSend","onVerifying","SendCode","verifyingHandler","VerifyStatus","memo","GuardianList","guardianList","expiredTime","setIsExpired","approvalLength","getApprovalCount","alreadyApprovalLength","index","res","GuardianListCom","EmailInput","forwardRef","val","inputValidator","ref","validateEmail","email","checkError","checkEmail","useImperativeHandle","EmailTab","onSuccess","setError","setVal","emailInputInstance","useRef","onSignUp","SignUpBase","_inputValidator","LoginBase","SignUpBaseCom","EmailLogin","onLogin","onLoginHandler","networkList","onStep","onNetworkChange","configNetwork","_networkList","_network","setNetwork","networkChange","Contract","rpcUrl","contract","getELFContract","getHolderInfoOnExtension","sandboxId","chainType","paramsOption","resMessage","SandboxEventService","SandboxEventTypes","SandboxErrorCode","getHolderInfoOthers","params","contractInit","PortkeyUIError","getHolderInfo","extension","SignUpAndLoginBaseCom","chainInfo","defaultNetwork","onSignTypeChange","_type","setType","_defaultNetwork","LoginCardOnStep","isHasAccount","checkResult","EmailError","LoginCard","SignUpAndLoginCom","MAX_TIMER","CodeVerify","verifier","isCountdownNow","isLoginAccount","verifierSessionId","setTimer","pinVal","setPinVal","timerRef","code","checkVerificationCode","resendCode","newTime","DIGIT_CODE","PasscodeInput","CodeVerifyCom","VerifierPage","GuardianApproval","header","verifyAccountIndex","setVerifyAccountIndex","_guardianList","setGuardianList","setExpiredTime","onSendCodeHandler","onVerifyingHandler","_item","onCodeVerifyHandler","onConfirmHandler","verificationList","GuardianApprovalCom","BaseModal","Step1","onSignInFinished","createType","setCreateType","_onFinish","SignUpAndLogin","Step2WithSignUp","onCancel","signUpStep","setSignUpStep","sendCodeInfo","setSendCodeInfo","onVerifierSelectConfirm","onCodeVerifySuccess","onBackHandler","Step2WithSignIn","approvedList","getGuardianList","verifierMap","payload","loginGuardianAccountIndexes","guardianAccounts","_guardianAccounts","guardiansList","_guardianAccount","GUARDIAN_TYPE_TYPE","approvedMap","guardian","approvedItem","Y","Step3","returnOpen","setReturnOpen","Z","useChainInfo","baseUrl","_chainInfo","setChainInfo","getChainList","response","request","chain","getVerifierListOnExtension","getVerifierListOthers","getVerifierList","initState","Global","state","globalState","SignIn","getContainer","_step","setGuardianAccount","networkItem","preStep","usePrevious","setApprovedList","onStep2WithSignUpFinish","list","onStep2Cancel","onStep3Cancel","_onNetworkChange","setVerifierList","getVerifierListHandler"],"mappings":"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"}